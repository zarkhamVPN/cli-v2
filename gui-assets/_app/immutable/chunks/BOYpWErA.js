var W=Object.defineProperty;var j=s=>{throw TypeError(s)};var k=(s,e,r)=>e in s?W(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var q=(s,e,r)=>k(s,typeof e!="symbol"?e+"":e,r),z=(s,e,r)=>e.has(s)||j("Cannot "+r);var i=(s,e,r)=>(z(s,e,"read from private field"),r?r.call(s):e.get(s)),p=(s,e,r)=>e.has(s)?j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),C=(s,e,r,t)=>(z(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{z as K,ap as ee,a5 as R,a0 as se,M as N,Z as U,h as re,R as te,a3 as ie,aq as ne,S as ae,y as fe,i as G,D as ce,ar as B,L as M,X as ue,as as E,at as oe,au as J,l as D,av as le,ak as de,aw as he,n as pe,am as _e,ax as F,J as Z,ay as ve,B as be,az as Pe,aA as Se,aB as g,aC as X,aD as we,aE as ge}from"./GQZ69GOi.js";var l,h,u,_,m,x,A;class Ie{constructor(e,r=!0){q(this,"anchor");p(this,l,new Map);p(this,h,new Map);p(this,u,new Map);p(this,_,new Set);p(this,m,!0);p(this,x,()=>{var e=K;if(i(this,l).has(e)){var r=i(this,l).get(e),t=i(this,h).get(r);if(t)ee(t),i(this,_).delete(r);else{var n=i(this,u).get(r);n&&(i(this,h).set(r,n.effect),i(this,u).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,o]of i(this,l)){if(i(this,l).delete(a),a===e)break;const f=i(this,u).get(o);f&&(R(f.effect),i(this,u).delete(o))}for(const[a,o]of i(this,h)){if(a===r||i(this,_).has(a))continue;const f=()=>{if(Array.from(i(this,l).values()).includes(a)){var v=document.createDocumentFragment();ie(o,v),v.append(N()),i(this,u).set(a,{effect:o,fragment:v})}else R(o);i(this,_).delete(a),i(this,h).delete(a)};i(this,m)||!t?(i(this,_).add(a),se(o,f,!1)):f()}}});p(this,A,e=>{i(this,l).delete(e);const r=Array.from(i(this,l).values());for(const[t,n]of i(this,u))r.includes(t)||(R(n.effect),i(this,u).delete(t))});this.anchor=e,C(this,m,r)}ensure(e,r){var t=K,n=ne();if(r&&!i(this,h).has(e)&&!i(this,u).has(e))if(n){var a=document.createDocumentFragment(),o=N();a.append(o),i(this,u).set(e,{effect:U(()=>r(o)),fragment:a})}else i(this,h).set(e,U(()=>r(this.anchor)));if(i(this,l).set(t,e),n){for(const[f,d]of i(this,h))f===e?t.skipped_effects.delete(d):t.skipped_effects.add(d);for(const[f,d]of i(this,u))f===e?t.skipped_effects.delete(d.effect):t.skipped_effects.add(d.effect);t.oncommit(i(this,x)),t.ondiscard(i(this,A))}else re&&(this.anchor=te),i(this,x).call(this)}}l=new WeakMap,h=new WeakMap,u=new WeakMap,_=new WeakMap,m=new WeakMap,x=new WeakMap,A=new WeakMap;function $(s,e){return s===e||(s==null?void 0:s[B])===e}function Re(s={},e,r,t){return ae(()=>{var n,a;return fe(()=>{n=a,a=[],G(()=>{s!==r(...a)&&(e(s,...a),n&&$(r(...n),s)&&e(null,...n))})}),()=>{ce(()=>{a&&$(r(...a),s)&&e(null,...a)})}}),s}let y=!1;function me(s){var e=y;try{return y=!1,[s(),y]}finally{y=e}}const xe={get(s,e){if(!s.exclude.includes(e))return D(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=M;try{Z(s.parent_effect),s.special[e]=ye({get[e](){return s.props[e]}},e,J)}finally{Z(t)}}return s.special[e](r),F(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),F(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ee(s,e){return new Proxy({props:s,exclude:e,special:{},version:ue(0),parent_effect:M},xe)}const Oe={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];g(n)&&(n=n());const a=E(n,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=E(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===B||e===X)return!1;for(let r of s.props)if(g(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(g(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Be(...s){return new Proxy({props:s},Oe)}function ye(s,e,r,t){var T;var n=!be||(r&Pe)!==0,a=(r&ve)!==0,o=(r&we)!==0,f=t,d=!0,v=()=>(d&&(d=!1,f=o?G(t):t),f),P;if(a){var H=B in s||X in s;P=((T=E(s,e))==null?void 0:T.set)??(H&&e in s?c=>s[e]=c:void 0)}var S,L=!1;a?[S,L]=me(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=v(),P&&(n&&oe(),P(S)));var b;if(n?b=()=>{var c=s[e];return c===void 0?v():(d=!0,c)}:b=()=>{var c=s[e];return c!==void 0&&(f=void 0),c===void 0?f:c},n&&!(r&J))return b;if(P){var Q=s.$$legacy;return function(c,O){return arguments.length>0?((!n||!O||Q||L)&&P(O?b():c),c):b()}}var I=!1,w=(r&Se?pe:_e)(()=>(I=!1,b()));a&&D(w);var V=M;return function(c,O){if(arguments.length>0){const Y=O?D(w):n&&a?le(c):c;return de(w,Y),I=!0,f!==void 0&&(f=Y),c}return ge&&I||V.f&he?w.v:D(w)}}export{Ie as B,Re as b,Ee as l,ye as p,Be as s};
