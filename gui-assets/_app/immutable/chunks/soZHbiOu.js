import{w as h,x as y,i as v,y as k,h as m,z as c,A as S}from"./GQZ69GOi.js";function E(e,a,t=a){var o=new WeakSet;h(e,"input",async n=>{var s=n?e.defaultValue:e.value;if(s=f(e)?u(s):s,t(s),c!==null&&o.add(c),await y(),s!==(s=a())){var d=e.selectionStart,i=e.selectionEnd,w=e.value.length;if(e.value=s??"",i!==null){var l=e.value.length;d===i&&i===w&&l>w?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=d,e.selectionEnd=Math.min(i,l))}}}),(m&&e.defaultValue!==e.value||v(a)==null&&e.value)&&(t(f(e)?u(e.value):e.value),c!==null&&o.add(c)),k(()=>{var n=a();if(e===document.activeElement){var s=S??c;if(o.has(s))return}f(e)&&n===u(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function f(e){var a=e.type;return a==="number"||a==="range"}function u(e){return e===""?null:+e}const r="http://localhost:8088/api";async function $(e){try{const a=await fetch(`${r}/warden-status?profile=${e}`);if(!a.ok)throw new Error("API Error");return await a.json()}catch(a){return console.error(a),{is_registered:!1,warden:null}}}async function b(e,a,t){const o=await fetch(`${r}/register-warden`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:e,stakeToken:a,stakeAmount:t})});if(!o.ok)throw new Error(await o.text());return await o.json()}async function g(e){return await(await fetch(`${r}/check-warden-corruption?profile=${e}`)).json()}async function T(e){const a=await fetch(`${r}/migrate-warden`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`profile=${e}`});if(!a.ok)throw new Error(await a.text());return await a.json()}async function _(e){try{const a=await fetch(`${r}/seeker-status?profile=${e}`);if(!a.ok)throw new Error("API Error");return await a.json()}catch{return{is_registered:!1,seeker:null}}}async function A(){try{const e=await fetch(`${r}/wardens`);return e.ok?await e.json():[]}catch{return[]}}async function O(e,a,t,o){const n=await fetch(`${r}/seeker/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:e,wardenAuthority:a,wardenPeerID:t,estimatedMb:o})});if(!n.ok)throw new Error(await n.text());return await n.json()}async function P(e,a){const t=await fetch(`${r}/seeker/disconnect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:e,wardenAuthority:a})});if(!t.ok)throw new Error(await t.text());return await t.json()}async function W(e){const a=await fetch(`${r}/node/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({multiaddr:e})});if(!a.ok)throw new Error(await a.text());return await a.json()}async function p(e){try{const a=await fetch(`${r}/balance?profile=${e}`);if(!a.ok)throw new Error("Balance API Error");return await a.json()}catch{return{lamports:0}}}async function x(){try{const e=await fetch(`${r}/addresses`);return e.ok?await e.json():{}}catch{return{}}}export{x as a,E as b,$ as c,g as d,_ as e,A as f,p as g,P as h,W as i,O as j,T as m,b as r};
