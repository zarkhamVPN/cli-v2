import{c as wt,a as p,f as T,s as L,d as oe}from"../chunks/ubPwTb5a.js";import{i as Gt}from"../chunks/8Y7wEPAu.js";import{f as G,s as f,c,r as l,p as Yt,bd as Dt,be as ve,t as vt,j as J,g as i,m as U,a as qt,b as C,o as Le,bf as Re,n as xt,d as De,D as wr}from"../chunks/RDyAwT4X.js";import{l as Ot,s as zt,b as le,i as Y,a as Fe,p as Ne}from"../chunks/CXtzPwCl.js";import{a as Ue,c as bt,X as yr,b as kr}from"../chunks/iW9QCI5k.js";import{I as Ht,p as Pt,e as Ft,i as Ut,q as Ze,k as Cr,j as Er,f as ce,r as te,s as Et,t as Xe,n as Sr,u as Nr,v as Tr,g as Te,a as Ar,d as Ir,c as Mr,w as Br,h as Pr,x as $r}from"../chunks/DfwwZh4C.js";import{S as ee,b as re}from"../chunks/BgInBeoH.js";import{A as tr,R as je,W as Lr}from"../chunks/DZdGI8EM.js";import{S as Ge,C as Rr,T as Dr}from"../chunks/Y7nzRpw8.js";import{Z as Ae}from"../chunks/CL4U2nCO.js";import{A as er,N as Fr,S as Ur}from"../chunks/dpAuwCoO.js";import{C as Ie}from"../chunks/Bcnhtfw2.js";import{L as jr,W as Or}from"../chunks/Cf5Esnu9.js";function zr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M17 7 7 17"}],["path",{d:"M17 17H7V7"}]];Ht(r,zt({name:"arrow-down-left"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function Hr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M7 7h10v10"}],["path",{d:"M7 17 17 7"}]];Ht(r,zt({name:"arrow-up-right"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function Vr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}]];Ht(r,zt({name:"chart-pie"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function Wr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];Ht(r,zt({name:"clock"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function Kr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];Ht(r,zt({name:"file-text"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function Jr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Ht(r,zt({name:"loader-circle"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}function rr(r,t){const a=Ot(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M12 2v10"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"}]];Ht(r,zt({name:"power"},()=>a,{get iconNode(){return o},children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}))}var Gr=T('<div class="relative group"><div class="absolute top-0 left-0 w-3 h-3 border-l-2 border-t-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute top-0 right-0 w-3 h-3 border-r-2 border-t-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute bottom-0 left-0 w-3 h-3 border-l-2 border-b-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute bottom-0 right-0 w-3 h-3 border-r-2 border-b-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <!></div>');function jt(r,t){var a=Gr(),o=f(c(a),8);ee(o,{children:(e,n)=>{var d=wt(),s=G(d);Pt(s,t,"default",{}),p(e,d)},$$slots:{default:!0}}),l(a),p(r,a)}var Yr=T('<div class="flex flex-col items-center justify-center gap-4 p-8"><div class="w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin"></div> <span class="text-xs font-mono text-primary animate-pulse tracking-widest">SCANNING...</span></div>');function ge(r){var t=Yr();p(r,t)}var qr=T('<div class="bg-card border border-border p-3 flex justify-between items-center text-sm"><span> </span> <span class="font-mono text-muted-foreground"> </span></div>'),Qr=T('<div class="text-center text-muted-foreground text-xs italic py-4">No recent activity</div>'),Zr=T('<div class="mt-8"><div class="flex justify-between items-center mb-4"><h3 class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Recent Activity</h3> <span class="text-xs text-primary flex items-center gap-1">VIEW ALL <!></span></div> <div class="space-y-2"><!> <!></div></div>');function Xr(r,t){Yt(t,!1);const a=()=>le(Ue,"$activeMode",o),[o,e]=Fe();let n=U([]);async function d(){const E=await Ze(a()),j=[...E.solHistory,...E.arkhamHistory,...E.connectionHistory,...E.throughputHistory].sort((b,y)=>new Date(y.timestamp).getTime()-new Date(b.timestamp).getTime());C(n,j.slice(0,3))}Dt(()=>a(),()=>{a()&&d()}),ve(),Gt();var s=Zr(),u=c(s),v=f(c(u),2),g=f(c(v));tr(g,{class:"w-3 h-3"}),l(v),l(u);var A=f(u,2),x=c(A);Ft(x,1,()=>i(n),Ut,(E,j)=>{var b=qr(),y=c(b),k=c(y,!0);l(y);var w=f(y,2),I=c(w,!0);l(w),l(b),vt(z=>{L(k,(i(j),J(()=>i(j).type||"Transaction"))),L(I,z)},[()=>(i(j),J(()=>new Date(i(j).timestamp).toLocaleTimeString()))]),p(E,b)});var m=f(x,2);{var _=E=>{var j=Qr();p(E,j)};Y(m,E=>{i(n),J(()=>i(n).length===0)&&E(_)})}l(A),l(s),p(r,s),qt(),e()}var tn=T('<div class="h-[60vh] flex items-center justify-center"><!></div>'),en=T('<button><!> <span class="font-bold tracking-widest"> </span></button>'),rn=T(`<div class="border border-primary/50 bg-primary/5 p-12 text-center flex flex-col items-center"><!> <h3 class="text-2xl font-bold mb-2">UNREGISTERED NODE</h3> <p class="text-muted-foreground max-w-md mb-8">This node identity is not yet registered on the Solana blockchain.
                    Stake tokens to begin providing bandwidth.</p> <button class="bg-primary text-black px-8 py-3 font-bold hover:bg-white transition-colors">INITIALIZE WARDEN</button></div>`),nn=T('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Staked</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> <span class="text-lg text-muted-foreground">SOL</span></div> <button class="text-[10px] text-primary hover:underline mt-2 flex items-center gap-1 uppercase font-bold tracking-tighter"> </button>',1),on=T('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">SOL Earnings</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <p class="text-xs text-muted-foreground mt-2">Lifetime SOL revenue</p>',1),an=T('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Zarkham Earnings</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <p class="text-xs text-muted-foreground mt-2">Lifetime token rewards</p>',1),sn=T('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Sessions</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <div class="flex items-center gap-2 mt-2"><div></div> <span class="text-xs text-muted-foreground uppercase"> </span></div>',1),dn=T('<div class="flex justify-between items-center mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Node Identity</span> <!></div> <div class="flex items-center justify-between bg-black border border-border p-3 group hover:border-primary/30 transition-colors"><span class="text-xs font-mono text-muted-foreground truncate w-full mr-2"> </span> <button class="text-muted-foreground hover:text-primary transition-colors" title="Copy Peer ID"><!></button></div> <div class="mt-2 text-xs flex justify-between uppercase font-mono tracking-widest"><span class="text-muted-foreground">Uptime Velocity</span> <span class="text-green-500 font-bold"> </span></div>',1),ln=T('<div class="flex justify-between items-center mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Direct Connect</span> <!></div> <div class="flex items-center justify-between bg-black border border-border p-3 group hover:border-primary/30 transition-colors"><span class="text-xs font-mono text-muted-foreground truncate w-full mr-2"> </span> <button class="text-muted-foreground hover:text-primary transition-colors" title="Copy Multiaddr"><!></button></div> <div class="mt-2 text-xs flex justify-between uppercase font-mono tracking-widest"><span class="text-muted-foreground">Bandwidth Served</span> <span class="text-white font-bold"> </span></div>',1),cn=T('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"><!> <!> <!> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"><!> <!></div> <!>',1),un=T('<div class="flex justify-between items-center"><div><h2 class="text-3xl font-bold uppercase tracking-tighter">Warden Command</h2> <p class="text-sm text-muted-foreground">Network relay management.</p></div> <!></div> <!>',1),fn=T('<div class="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50 backdrop-blur-sm"><div class="bg-card border border-primary w-full max-w-md p-8 relative"><button class="absolute top-4 right-4 text-muted-foreground hover:text-white">✕</button> <h3 class="text-2xl font-bold mb-6">Initialize Node</h3> <div class="space-y-4"><div><label class="block text-xs font-mono text-muted-foreground mb-2">STAKE TOKEN</label> <div class="grid grid-cols-2 gap-2"><button>SOL</button> <button>USDC</button></div></div> <div><label class="block text-xs font-mono text-muted-foreground mb-2">AMOUNT</label> <input type="number" class="w-full bg-black border border-border p-3 text-white focus:border-primary outline-none"/></div></div> <button class="w-full bg-primary text-black font-bold py-3 mt-8 hover:bg-white transition-colors">CONFIRM STAKE</button></div></div>'),vn=T('<div class="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50 backdrop-blur-sm"><div class="bg-card border border-border p-8 w-full max-w-sm text-center"><h3 class="text-xl font-bold mb-6">Asset Allocation</h3> <div class="relative w-48 h-48 mx-auto rounded-full"><div class="absolute inset-4 bg-card rounded-full flex items-center justify-center"><div class="text-center"><span class="block text-2xl font-bold text-primary"> </span> <span class="text-xs text-muted-foreground">STAKED</span></div></div></div> <div class="mt-6 flex justify-between text-xs"><div class="text-left"><span class="block text-primary font-bold"> </span> <span class="text-muted-foreground">Locked</span></div> <div class="text-right"><span class="block text-white font-bold"> </span> <span class="text-muted-foreground">Liquid</span></div></div></div></div>'),gn=T('<div class="space-y-8"><!> <!> <!></div>');function pn(r,t){Yt(t,!1);let a=U(!1),o=U(!1),e=U(null),n=U(null),d=U(0),s=U(!0),u=U(!1),v=U(!1),g,A=U(1),x=U("SOL");Le(()=>{m(),g=setInterval(m,2e3)}),Re(()=>{g&&clearInterval(g)});async function m(){i(s)&&i(e);try{const[R,q,N]=await Promise.all([Cr(),Er("warden"),ce("warden")]);C(n,R),C(o,R.isRunning),C(a,q.is_registered),C(e,q.warden),C(d,N.lamports/1e9)}catch(R){console.error(R)}finally{C(s,!1)}}async function _(){try{i(o)?(await Nr(),bt("Warden Node Stopped","info")):(await Tr(),bt("Warden Node Started","success")),await m()}catch{bt("Command failed","error")}}async function E(){try{await Sr("warden",i(x),i(A)),bt("Registration Successful","success"),C(u,!1),await m()}catch(R){bt("Registration Failed: "+R,"error")}}function j(){var R;(R=i(e))!=null&&R.peerId&&(navigator.clipboard.writeText(i(e).peerId),bt("Peer ID copied","info"))}function b(){var R;(R=i(n))!=null&&R.p2pMultiaddr&&(navigator.clipboard.writeText(i(n).p2pMultiaddr),bt("Multiaddr copied","info"))}function y(){var q;if(!((q=i(e))!=null&&q.stakeAmount)||!i(d))return 0;const R=i(e).stakeAmount/1e9;return R/(R+i(d))*100}Gt();var k=gn(),w=c(k);{var I=R=>{var q=tn(),N=c(q);ge(N),l(q),p(R,q)},z=R=>{var q=un(),N=G(q),M=f(c(N),2);{var H=P=>{var S=en();S.__click=_;var h=c(S);{let Z=De(()=>i(o)?"animate-pulse":"");rr(h,{get class(){return`w-5 h-5 ${i(Z)??""}`}})}var $=f(h,2),W=c($,!0);l($),l(S),vt(()=>{Et(S,1,`flex items-center gap-3 px-6 py-3 border transition-all duration-300 ${i(o)?"bg-green-500/10 border-green-500 text-green-500 hover:bg-green-500/20":"bg-red-500/10 border-red-500 text-red-500 hover:bg-red-500/20"}`),L(W,i(o)?"ONLINE":"OFFLINE")}),p(P,S)};Y(M,P=>{i(a)&&P(H)})}l(N);var X=f(N,2);{var ct=P=>{var S=rn(),h=c(S);Ge(h,{class:"w-16 h-16 text-primary mb-6"});var $=f(h,6);$.__click=()=>C(u,!0),l(S),p(P,S)},it=P=>{var S=cn(),h=G(S),$=c(h);jt($,{children:(K,et)=>{var D=nn(),B=G(D),rt=f(c(B),2);Vr(rt,{class:"w-5 h-5 text-primary"}),l(B);var Q=f(B,2),nt=c(Q);xt(),l(Q);var F=f(Q,2);F.__click=()=>C(v,!0);var O=c(F);l(F),vt((ft,at)=>{L(nt,`${ft??""} `),L(O,`${at??""}% of liquid balance. Visualize →`)},[()=>{var ft;return(((ft=i(e))==null?void 0:ft.stakeAmount)/1e9||0).toFixed(2)},()=>y().toFixed(1)]),p(K,D)},$$slots:{default:!0}});var W=f($,2);jt(W,{children:(K,et)=>{var D=on(),B=G(D),rt=f(c(B),2);Ae(rt,{class:"w-5 h-5 text-primary"}),l(B);var Q=f(B,2),nt=c(Q,!0);l(Q),xt(2),vt(F=>L(nt,F),[()=>{var F;return(((F=i(e))==null?void 0:F.totalEarnings)/1e9||0).toFixed(4)}]),p(K,D)},$$slots:{default:!0}});var Z=f(W,2);jt(Z,{children:(K,et)=>{var D=an(),B=G(D),rt=f(c(B),2);Ae(rt,{class:"w-5 h-5 text-primary"}),l(B);var Q=f(B,2),nt=c(Q,!0);l(Q),xt(2),vt(F=>L(nt,F),[()=>{var F;return(((F=i(e))==null?void 0:F.arkhamTokensEarned)/1e9||0).toFixed(4)}]),p(K,D)},$$slots:{default:!0}});var dt=f(Z,2);jt(dt,{children:(K,et)=>{var D=sn(),B=G(D),rt=f(c(B),2);er(rt,{class:"w-5 h-5 text-primary"}),l(B);var Q=f(B,2),nt=c(Q,!0);l(Q);var F=f(Q,2),O=c(F),ft=f(O,2),at=c(ft,!0);l(ft),l(F),vt(()=>{var ht,mt,st;L(nt,((ht=i(e))==null?void 0:ht.activeConnections)||0),Et(O,1,`w-2 h-2 rounded-none ${(((mt=i(e))==null?void 0:mt.activeConnections)||0)>0?"bg-green-500 animate-pulse":"bg-red-500"}`),L(at,(((st=i(e))==null?void 0:st.activeConnections)||0)>0?"Connected":"Idle")}),p(K,D)},$$slots:{default:!0}}),l(h);var tt=f(h,2),ot=c(tt);ee(ot,{children:(K,et)=>{var D=dn(),B=G(D),rt=f(c(B),2);Rr(rt,{class:"w-4 h-4 text-green-500"}),l(B);var Q=f(B,2),nt=c(Q),F=c(nt,!0);l(nt);var O=f(nt,2);O.__click=j;var ft=c(O);Ie(ft,{class:"w-4 h-4"}),l(O),l(Q);var at=f(Q,2),ht=f(c(at),2),mt=c(ht);l(ht),l(at),vt(st=>{var kt;L(F,(kt=i(e))==null?void 0:kt.peerId),L(mt,`${st??""}%`)},[()=>{var st;return(((st=i(e))==null?void 0:st.uptimePercentage)/100||0).toFixed(1)}]),p(K,D)},$$slots:{default:!0}});var lt=f(ot,2);ee(lt,{children:(K,et)=>{var D=ln(),B=G(D),rt=f(c(B),2);Ge(rt,{class:"w-4 h-4 text-primary"}),l(B);var Q=f(B,2),nt=c(Q),F=c(nt,!0);l(nt);var O=f(nt,2);O.__click=b;var ft=c(O);Ie(ft,{class:"w-4 h-4"}),l(O),l(Q);var at=f(Q,2),ht=f(c(at),2),mt=c(ht);l(ht),l(at),vt(st=>{var kt;L(F,((kt=i(n))==null?void 0:kt.p2pMultiaddr)||"Not available"),L(mt,`${st??""} GB`)},[()=>{var st;return(((st=i(e))==null?void 0:st.totalBandwidthServed)/1024).toFixed(2)}]),p(K,D)},$$slots:{default:!0}}),l(tt);var ut=f(tt,2);Xr(ut,{}),p(P,S)};Y(X,P=>{i(a)?P(it,!1):P(ct)})}p(R,q)};Y(w,R=>{i(s)?R(I):R(z,!1)})}var V=f(w,2);{var gt=R=>{var q=fn(),N=c(q),M=c(N);M.__click=()=>C(u,!1);var H=f(M,4),X=c(H),ct=f(c(X),2),it=c(ct);it.__click=()=>C(x,"SOL");var P=f(it,2);P.__click=()=>C(x,"USDC"),l(ct),l(X);var S=f(X,2),h=f(c(S),2);te(h),l(S),l(H);var $=f(H,2);$.__click=E,l(N),l(q),vt(()=>{Et(it,1,`border px-4 py-2 ${i(x)==="SOL"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`),Et(P,1,`border px-4 py-2 ${i(x)==="USDC"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`)}),re(h,()=>i(A),W=>C(A,W)),p(R,q)};Y(V,R=>{i(u)&&R(gt)})}var _t=f(V,2);{var pt=R=>{var q=vn();q.__click=()=>C(v,!1);var N=c(q);N.__click=tt=>tt.stopPropagation();var M=f(c(N),2),H=c(M),X=c(H),ct=c(X),it=c(ct);l(ct),xt(2),l(X),l(H),l(M);var P=f(M,2),S=c(P),h=c(S),$=c(h);l(h),xt(2),l(S);var W=f(S,2),Z=c(W),dt=c(Z);l(Z),xt(2),l(W),l(P),l(N),l(q),vt((tt,ot,lt,ut,K)=>{Xe(M,`background: conic-gradient(#fed600 0% ${tt??""}%, #333 ${ot??""}% 100%);`),L(it,`${lt??""}%`),L($,`${ut??""} SOL`),L(dt,`${K??""} SOL`)},[y,y,()=>y().toFixed(1),()=>(i(e).stakeAmount/1e9).toFixed(2),()=>i(d).toFixed(2)]),p(R,q)};Y(_t,R=>{i(v)&&R(pt)})}l(k),p(r,k),qt()}oe(["click"]);var hn=T('<div class="flex flex-col items-center justify-center py-8"><!> <span class="text-sm text-muted-foreground">Resolving Peer...</span></div>'),mn=T('<div class="bg-red-900/20 border border-red-500/50 p-3 rounded flex flex-col gap-2"><div class="flex items-center gap-2 text-red-500 text-xs font-bold"><!> INSUFFICIENT ESCROW</div> <p class="text-xs text-muted-foreground"> </p> <button class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 text-xs rounded"> </button></div>'),bn=T('<button class="w-full bg-primary hover:bg-white text-black font-bold py-3 transition-colors"> </button>'),_n=T('<div class="space-y-4"><div class="bg-muted/20 p-4 rounded-lg"><div class="flex justify-between text-sm mb-1"><span class="text-muted-foreground">Warden</span> <span class="font-mono text-white"> </span></div> <div class="flex justify-between text-sm"><span class="text-muted-foreground">Rate</span> <div class="text-right"><span class="text-primary font-bold block"> </span> <span class="text-xs text-muted-foreground"> </span></div></div></div> <div><label class="block text-xs font-mono text-muted-foreground mb-2">ESTIMATED DATA (MB)</label> <input type="number" class="w-full bg-black border border-border p-3 text-white focus:border-primary outline-none"/></div> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-muted-foreground">Estimated Cost</span> <div class="text-right"><span class="block"> </span> <span class="text-xs text-muted-foreground"> </span></div></div> <div class="flex justify-between items-center"><span class="text-muted-foreground">Escrow Balance</span> <div class="flex items-center gap-2"><span> </span> <button title="Refresh Balance" class="hover:text-primary"><!></button></div></div></div> <!></div>'),xn=T('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4"><div class="w-full max-w-md rounded-lg bg-card border border-border p-6 space-y-6"><div class="flex items-center justify-between border-b border-border pb-4"><h2 class="text-xl font-bold">Direct Connect</h2> <button class="text-muted-foreground hover:text-white"><!></button></div> <!></div></div>');function wn(r,t){Yt(t,!1);const a=U(),o=U(),e=U(),n=U();let d=Ne(t,"multiaddr",8),s=Ne(t,"onclose",8),u=U(!0),v=U(!1),g=U(!1),A=U(null),x=U(0),m=U(0),_=U(0),E=U("100"),j;Le(()=>{y(),j=setInterval(b,2e3)}),Re(()=>{j&&clearInterval(j)});async function b(){try{const N=await ce("seeker");C(x,N.lamports/1e9);const M=await Te("seeker");M.seeker&&C(m,M.seeker.escrowBalance/1e9)}catch{}}async function y(){C(u,!0);try{try{const P=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd")).json();C(_,P.solana.usd)}catch{C(_,150)}const N=d().match(/\/p2p\/([a-zA-Z0-9]+)/);if(!N)throw new Error("Invalid multiaddress: Missing Peer ID");const M=N[1],H=await fetch(`/api/warden/lookup?peer_id=${M}`);if(!H.ok)throw new Error("Warden not found on-chain");C(A,await H.json());const X=await ce("seeker");C(x,X.lamports/1e9);const ct=await Te("seeker");ct.seeker&&C(m,ct.seeker.escrowBalance/1e9)}catch(N){bt(N.message,"error")}finally{C(u,!1)}}async function k(){if(!i(n)){bt("Insufficient wallet balance","error");return}C(g,!0);try{const N=Math.ceil(i(e)*1e9)+1e5,M=await fetch("/api/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:N})});if(!M.ok)throw new Error(await M.text());bt("Deposit sent. Waiting for confirmation...","info"),await new Promise(H=>setTimeout(H,5e3)),await y(),bt("Deposit confirmed!","success")}catch(N){bt("Deposit failed: "+N.message,"error")}finally{C(g,!1)}}async function w(){C(v,!0);try{bt("Initializing Secure Link...","info");const N=await fetch("/api/node/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({multiaddr:d(),estimatedMb:parseInt(i(E))})});if(!N.ok)throw new Error(await N.text());bt("Connection Established!","success"),s()()}catch(N){bt("Connection Failed: "+N.message,"error")}finally{C(v,!1)}}Dt(()=>(i(A),i(E)),()=>{C(a,i(A)?(parseInt(i(E))||0)*(i(A).price||0)/1e9:0)}),Dt(()=>(i(a),i(_)),()=>{C(o,i(a)*i(_))}),Dt(()=>(i(a),i(m)),()=>{C(e,Math.max(0,i(a)-i(m)))}),Dt(()=>(i(x),i(e)),()=>{C(n,i(x)>=i(e))}),ve(),Gt();var I=xn();I.__click=function(...N){var M;(M=s())==null||M.apply(this,N)};var z=c(I);z.__click=N=>N.stopPropagation();var V=c(z),gt=f(c(V),2);gt.__click=function(...N){var M;(M=s())==null||M.apply(this,N)};var _t=c(gt);yr(_t,{class:"w-6 h-6"}),l(gt),l(V);var pt=f(V,2);{var R=N=>{var M=hn(),H=c(M);Jr(H,{class:"w-8 h-8 animate-spin text-primary mb-2"}),xt(2),l(M),p(N,M)},q=N=>{var M=wt(),H=G(M);{var X=ct=>{var it=_n(),P=c(it),S=c(P),h=f(c(S),2),$=c(h);l(h),l(S);var W=f(S,2),Z=f(c(W),2),dt=c(Z),tt=c(dt);l(dt);var ot=f(dt,2),lt=c(ot);l(ot),l(Z),l(W),l(P);var ut=f(P,2),K=f(c(ut),2);te(K),l(ut);var et=f(ut,2),D=c(et),B=f(c(D),2),rt=c(B),Q=c(rt);l(rt);var nt=f(rt,2),F=c(nt);l(nt),l(B),l(D);var O=f(D,2),ft=f(c(O),2),at=c(ft),ht=c(at);l(at);var mt=f(at,2);mt.__click=y;var st=c(mt);je(st,{class:"w-3 h-3"}),l(mt),l(ft),l(O),l(et);var kt=f(et,2);{var yt=St=>{var Ct=mn(),Tt=c(Ct),Lt=c(Tt);Dr(Lt,{class:"w-4 h-4"}),xt(),l(Tt);var Rt=f(Tt,2),Qt=c(Rt);l(Rt);var Mt=f(Rt,2);Mt.__click=k;var _e=c(Mt,!0);l(Mt),l(Ct),vt((Zt,xe)=>{L(Qt,`You need ${Zt??""} more SOL in escrow.`),Mt.disabled=i(g),L(_e,xe)},[()=>(i(e),J(()=>i(e).toFixed(6))),()=>(i(g),i(e),J(()=>i(g)?"DEPOSITING...":`DEPOSIT ${(i(e)+1e-4).toFixed(4)} SOL`))]),p(St,Ct)},It=St=>{var Ct=bn();Ct.__click=w;var Tt=c(Ct,!0);l(Ct),vt(()=>{Ct.disabled=i(v),L(Tt,i(v)?"CONNECTING...":"START CONNECTION")}),p(St,Ct)};Y(kt,St=>{i(e)>0?St(yt):St(It,!1)})}l(it),vt((St,Ct,Tt,Lt,Rt,Qt)=>{L($,`${St??""}...`),L(tt,`${Ct??""} SOL / MB`),L(lt,`≈ $${Tt??""}`),L(Q,`${Lt??""} SOL`),L(F,`≈ $${Rt??""}`),Et(at,1,i(e)>0?"text-red-500":"text-green-500"),L(ht,`${Qt??""} SOL`)},[()=>(i(A),J(()=>i(A).peerId.slice(0,8))),()=>(i(A),J(()=>(i(A).price/1e9).toFixed(6))),()=>(i(A),i(_),J(()=>(i(A).price/1e9*i(_)).toFixed(6))),()=>(i(a),J(()=>i(a).toFixed(6))),()=>(i(o),J(()=>i(o).toFixed(2))),()=>(i(m),J(()=>i(m).toFixed(6)))]),re(K,()=>i(E),St=>C(E,St)),p(ct,it)};Y(H,ct=>{i(A)&&ct(X)},!0)}p(N,M)};Y(pt,N=>{i(u)?N(R):N(q,!1)})}l(z),l(I),p(r,I),qt()}oe(["click"]);var yn=T("<!> Disconnecting in progress...",1),kn=T("<!> Secure Uplink Active",1),Cn=T('<div class="h-4 w-px bg-green-500/30"></div> <button class="text-red-500 hover:text-red-400 transition-colors p-1 hover:bg-red-500/10" title="Terminate Connection"><!></button>',1),En=T("<div></div> <div><div><!></div> <!></div>",1),Sn=T('<div class="h-[200px] flex items-center justify-center"><!></div>'),Nn=T('<div class="text-5xl font-bold text-white mb-2 uppercase tracking-tighter">Connected</div> <p class="text-sm text-muted-foreground font-mono">Tunnel established via WireGuard.<br/> Traffic routed through Warden node.</p>',1),Tn=T('<div class="text-5xl font-bold text-yellow-500 mb-2 uppercase tracking-tighter">Closing</div> <p class="text-sm text-yellow-500/70 font-mono italic">Finalizing bandwidth proofs on-chain.<br/> Tearing down encrypted tunnel.</p>',1),An=T('<div class="text-5xl font-bold text-yellow-500 mb-2 uppercase tracking-tighter">Lingering</div> <p class="text-sm text-yellow-500/70 font-mono italic">Local link is down, but on-chain session is still active.<br/> Terminate to stop billing.</p>',1),In=T('<div class="flex justify-between mb-6"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">On-Chain Session</span> <!></div> <!> <div><div>Encryption & Integrity</div> <div class="text-lg font-bold text-white">ChaCha20-Poly1305</div></div>',1),Mn=T('<div class="flex justify-between mb-6"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Live Metrics</span> <!></div> <div class="space-y-4"><div><div class="flex justify-between text-xs mb-1 uppercase font-mono"><span>Relayed Data</span> <span class="text-primary font-bold"> </span></div> <div class="h-1 bg-secondary w-full"><div class="h-full bg-primary animate-pulse" style="width: 100%"></div></div></div> <div><div class="flex justify-between text-xs mb-1 uppercase font-mono"><span>Grid Latency</span> <span class="text-green-500 font-bold"> </span></div> <div class="h-1 bg-secondary w-full"><div class="h-full bg-green-500 transition-all duration-500"></div></div></div></div>',1),Bn=T('<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-12"><!> <!></div>'),Pn=T('<div class="animate-pulse space-y-4"><div class="h-4 w-16 bg-muted/20 rounded"></div> <div class="h-6 w-3/4 bg-muted/20 rounded"></div> <div class="h-3 w-full bg-muted/20 rounded"></div></div>'),$n=T('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>'),Ln=T('<div class="h-48 flex flex-col items-center justify-center border border-dashed border-border opacity-50"><!> <span class="text-xs font-mono">NO PUBLIC NODES DETECTED</span></div>'),Rn=T('<div class="flex justify-between items-start mb-4"><div class="font-mono text-[10px] bg-primary/10 text-primary px-2 py-1 border border-primary/20"> </div> <!></div> <p class="font-bold truncate uppercase tracking-tight"> </p> <p class="text-[10px] font-mono text-muted-foreground break-all mb-4"> </p> <div class="flex justify-between items-center border-t border-border pt-4 mt-auto"><span class="text-xs text-primary font-bold"> </span> <button class="text-xs bg-white text-black px-3 py-1 font-bold hover:bg-primary transition-colors disabled:opacity-50">CONNECT</button></div>',1),Dn=T('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>'),Fn=T('<div class="border border-border bg-card/50 p-6 flex flex-col md:flex-row gap-4 items-end"><div class="flex-1 w-full"><label class="block text-[10px] font-mono text-muted-foreground mb-2 flex items-center gap-2"><!> MANUAL PEER CONNECT</label> <input type="text" placeholder="Warden Multiaddr..." class="w-full bg-black border border-border p-3 text-sm focus:border-primary outline-none text-white font-mono placeholder:text-muted-foreground/30"/></div> <button class="bg-white/10 text-white px-6 py-3 text-sm font-bold border border-white/20 hover:bg-white/20 transition-colors">DIRECT CONNECT</button></div> <!>',1),Un=T('<!> <div class="space-y-8 relative z-10"><div class="flex justify-between items-center"><div><h2 class="text-3xl font-bold uppercase tracking-tighter">Seeker Uplink</h2> <p class="text-sm text-muted-foreground">Secure tunnel management.</p></div></div> <!> <!></div>',1);function jn(r,t){Yt(t,!1);let a=U([]),o=U(!0),e=U(!0),n=U(!1),d=U(!1),s=U(!1),u=null,v=U(""),g=U(!1),A=U(150),x=U(0),m=U(0),_,E,j;Le(()=>{I(),_t(),k(),b()}),Re(()=>{y()});function b(){y(),_=setInterval(z,5e3),E=setInterval(V,2e3),j=setInterval(I,2e3)}function y(){_&&clearInterval(_),E&&clearInterval(E),j&&clearInterval(j)}async function k(){try{const $=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd")).json();C(A,$.solana.usd)}catch{}}async function w(){await Promise.all([I(),_t()])}async function I(){try{const h=await Te("seeker");C(s,h.isDisconnecting),h.seeker&&(C(d,h.seeker.isLocalLinkActive),h.seeker.connectedWardenPDA?(C(n,!0),u=h.seeker,h.seeker.connectedWardenAuthority&&localStorage.setItem("last_warden_auth",h.seeker.connectedWardenAuthority)):(C(n,!1),u=null))}catch(h){console.error(h)}finally{C(o,!1)}}async function z(){if(!(!i(n)||!i(d)))try{const h=await fetch("/api/node/latency");h.ok&&C(x,await h.json())}catch{}}async function V(){if(!(!i(n)||!i(d)))try{const h=await fetch("/api/node/bandwidth");h.ok&&C(m,await h.json())}catch{}}function gt(h){if(h===0)return"0.00 B";const $=1024,W=["B","KB","MB","GB","TB"],Z=Math.floor(Math.log(h)/Math.log($));return parseFloat((h/Math.pow($,Z)).toFixed(2))+" "+W[Z]}async function _t(){C(e,!0);try{C(a,await Ar())}catch(h){console.error(h)}finally{C(e,!1)}}function pt(){if(!i(v)){bt("Please enter a multiaddress","error");return}C(g,!0)}async function R(){try{y();const h=(u==null?void 0:u.connectedWardenAuthority)||localStorage.getItem("last_warden_auth")||"";C(s,!0),C(n,!1),u=null,await Ir("seeker",h),bt("Link Terminated","info"),localStorage.removeItem("last_warden_auth"),setTimeout(()=>{b(),w()},1e4)}catch{bt("Disconnect Failed","error"),b()}}Gt();var q=Un(),N=G(q);{var M=h=>{var $=En(),W=G($),Z=f(W,2),dt=c(Z),tt=c(dt);{var ot=et=>{var D=yn(),B=G(D);je(B,{class:"w-4 h-4 animate-spin"}),xt(),p(et,D)},lt=et=>{var D=kn(),B=G(D);jr(B,{class:"w-4 h-4"}),xt(),p(et,D)};Y(tt,et=>{i(s)?et(ot):et(lt,!1)})}l(dt);var ut=f(dt,2);{var K=et=>{var D=Cn(),B=f(G(D),2);B.__click=R;var rt=c(B);rr(rt,{class:"w-5 h-5"}),l(B),p(et,D)};Y(ut,et=>{i(s)||et(K)})}l(Z),vt(()=>{Et(W,1,`fixed inset-0 pointer-events-none z-40 border-[6px] ${i(s)?"border-yellow-500/50":"border-green-500/50"} animate-pulse shadow-[inset_0_0_50px_rgba(34,197,94,0.2)]`),Et(Z,1,`fixed top-6 left-1/2 -translate-x-1/2 z-50 flex items-center gap-4 bg-black/90 backdrop-blur border-2 ${i(s)?"border-yellow-500":"border-green-500"} px-6 py-3 shadow-[0_0_30px_rgba(34,197,94,0.3)]`),Et(dt,1,`flex items-center gap-2 ${i(s)?"text-yellow-500":"text-green-500"} font-bold tracking-widest uppercase`)}),p(h,$)};Y(N,h=>{(i(n)||i(s))&&h(M)})}var H=f(N,2),X=f(c(H),2);{var ct=h=>{var $=Sn(),W=c($);ge(W),l($),p(h,$)},it=h=>{var $=wt(),W=G($);{var Z=tt=>{var ot=Bn(),lt=c(ot);jt(lt,{children:(K,et)=>{var D=In(),B=G(D),rt=f(c(B),2);{let at=De(()=>i(d)?"text-green-500":"text-yellow-500");er(rt,{get class(){return`w-5 h-5 ${i(at)??""}`}})}l(B);var Q=f(B,2);{var nt=at=>{var ht=Nn();xt(2),p(at,ht)},F=at=>{var ht=wt(),mt=G(ht);{var st=yt=>{var It=Tn();xt(2),p(yt,It)},kt=yt=>{var It=An();xt(2),p(yt,It)};Y(mt,yt=>{i(s)?yt(st):yt(kt,!1)},!0)}p(at,ht)};Y(Q,at=>{i(d)?at(nt):at(F,!1)})}var O=f(Q,2),ft=c(O);xt(2),l(O),vt(()=>{Et(O,1,`mt-8 p-4 ${i(d)?"bg-green-500/5 border-green-500/20":"bg-yellow-500/5 border-yellow-500/20"} border rounded`),Et(ft,1,`text-xs ${i(d)?"text-green-400":"text-yellow-400"} font-mono mb-1 uppercase tracking-tighter`)}),p(K,D)},$$slots:{default:!0}});var ut=f(lt,2);jt(ut,{children:(K,et)=>{var D=Mn(),B=G(D),rt=f(c(B),2);Ae(rt,{class:"w-5 h-5 text-primary"}),l(B);var Q=f(B,2),nt=c(Q),F=c(nt),O=f(c(F),2),ft=c(O,!0);l(O),l(F),xt(2),l(nt);var at=f(nt,2),ht=c(at),mt=f(c(ht),2),st=c(mt,!0);l(mt),l(ht);var kt=f(ht,2),yt=c(kt);l(kt),l(at),l(Q),vt((It,St)=>{L(ft,It),L(st,i(x)>0?i(x)+"ms":"---"),Xe(yt,`width: ${St??""}%`)},[()=>gt(i(m)),()=>i(x)>0?Math.min(100,1e3/Math.max(1,i(x))*10):0]),p(K,D)},$$slots:{default:!0}}),l(ot),p(tt,ot)},dt=tt=>{var ot=Fn(),lt=G(ot),ut=c(lt),K=c(ut),et=c(K);Fr(et,{class:"w-3 h-3"}),xt(),l(K);var D=f(K,2);te(D),l(ut);var B=f(ut,2);B.__click=pt,l(lt);var rt=f(lt,2);{var Q=F=>{var O=$n();Ft(O,4,()=>({length:6}),Ut,(ft,at)=>{ee(ft,{children:(ht,mt)=>{var st=Pn();p(ht,st)},$$slots:{default:!0}})}),l(O),p(F,O)},nt=F=>{var O=wt(),ft=G(O);{var at=mt=>{var st=Ln(),kt=c(st);Or(kt,{class:"w-8 h-8 mb-2"}),xt(2),l(st),p(mt,st)},ht=mt=>{var st=Dn();Ft(st,5,()=>i(a),Ut,(kt,yt)=>{ee(kt,{children:(It,St)=>{var Ct=Rn(),Tt=G(Ct),Lt=c(Tt),Rt=c(Lt,!0);l(Lt);var Qt=f(Lt,2);Ur(Qt,{class:"w-4 h-4 text-green-500"}),l(Tt);var Mt=f(Tt,2),_e=c(Mt,!0);l(Mt);var Zt=f(Mt,2),xe=c(Zt,!0);l(Zt);var Ke=f(Zt,2),we=c(Ke),_r=c(we);l(we);var Je=f(we,2);Je.__click=()=>Mr("seeker",i(yt).authority,i(yt).id,100),l(Ke),vt(xr=>{L(Rt,i(yt).location),L(_e,i(yt).nickname),L(xe,i(yt).authority),L(_r,`$${xr??""}/GB`),Je.disabled=i(n)||i(s)},[()=>(i(yt).price/1e9*i(A)*1024).toFixed(4)]),p(It,Ct)},$$slots:{default:!0}})}),l(st),p(mt,st)};Y(ft,mt=>{i(a).length===0?mt(at):mt(ht,!1)},!0)}p(F,O)};Y(rt,F=>{i(e)?F(Q):F(nt,!1)})}re(D,()=>i(v),F=>C(v,F)),p(tt,ot)};Y(W,tt=>{i(n)||i(s)?tt(Z):tt(dt,!1)},!0)}p(h,$)};Y(X,h=>{i(o)?h(ct):h(it,!1)})}var P=f(X,2);{var S=h=>{wn(h,{get multiaddr(){return i(v)},onclose:()=>{C(g,!1),w()}})};Y(P,h=>{i(g)&&h(S)})}l(H),p(r,q),qt()}oe(["click"]);var ae={},On=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},nr={},Nt={};let Oe;const zn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Nt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Nt.getSymbolTotalCodewords=function(t){return zn[t]};Nt.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};Nt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Oe=t};Nt.isKanjiModeEnabled=function(){return typeof Oe<"u"};Nt.toSJIS=function(t){return Oe(t)};var pe={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+a)}}r.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},r.from=function(o,e){if(r.isValid(o))return o;try{return t(o)}catch{return e}}})(pe);function or(){this.buffer=[],this.length=0}or.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let a=0;a<t;a++)this.putBit((r>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Hn=or;function ie(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ie.prototype.set=function(r,t,a,o){const e=r*this.size+t;this.data[e]=a,o&&(this.reservedBit[e]=!0)};ie.prototype.get=function(r,t){return this.data[r*this.size+t]};ie.prototype.xor=function(r,t,a){this.data[r*this.size+t]^=a};ie.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Vn=ie,ar={};(function(r){const t=Nt.getSymbolSize;r.getRowColCoords=function(o){if(o===1)return[];const e=Math.floor(o/7)+2,n=t(o),d=n===145?26:Math.ceil((n-13)/(2*e-2))*2,s=[n-7];for(let u=1;u<e-1;u++)s[u]=s[u-1]-d;return s.push(6),s.reverse()},r.getPositions=function(o){const e=[],n=r.getRowColCoords(o),d=n.length;for(let s=0;s<d;s++)for(let u=0;u<d;u++)s===0&&u===0||s===0&&u===d-1||s===d-1&&u===0||e.push([n[s],n[u]]);return e}})(ar);var ir={};const Wn=Nt.getSymbolSize,Ye=7;ir.getPositions=function(t){const a=Wn(t);return[[0,0],[a-Ye,0],[0,a-Ye]]};var sr={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const n=e.size;let d=0,s=0,u=0,v=null,g=null;for(let A=0;A<n;A++){s=u=0,v=g=null;for(let x=0;x<n;x++){let m=e.get(A,x);m===v?s++:(s>=5&&(d+=t.N1+(s-5)),v=m,s=1),m=e.get(x,A),m===g?u++:(u>=5&&(d+=t.N1+(u-5)),g=m,u=1)}s>=5&&(d+=t.N1+(s-5)),u>=5&&(d+=t.N1+(u-5))}return d},r.getPenaltyN2=function(e){const n=e.size;let d=0;for(let s=0;s<n-1;s++)for(let u=0;u<n-1;u++){const v=e.get(s,u)+e.get(s,u+1)+e.get(s+1,u)+e.get(s+1,u+1);(v===4||v===0)&&d++}return d*t.N2},r.getPenaltyN3=function(e){const n=e.size;let d=0,s=0,u=0;for(let v=0;v<n;v++){s=u=0;for(let g=0;g<n;g++)s=s<<1&2047|e.get(v,g),g>=10&&(s===1488||s===93)&&d++,u=u<<1&2047|e.get(g,v),g>=10&&(u===1488||u===93)&&d++}return d*t.N3},r.getPenaltyN4=function(e){let n=0;const d=e.data.length;for(let u=0;u<d;u++)n+=e.data[u];return Math.abs(Math.ceil(n*100/d/5)-10)*t.N4};function a(o,e,n){switch(o){case r.Patterns.PATTERN000:return(e+n)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return n%3===0;case r.Patterns.PATTERN011:return(e+n)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case r.Patterns.PATTERN101:return e*n%2+e*n%3===0;case r.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case r.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}r.applyMask=function(e,n){const d=n.size;for(let s=0;s<d;s++)for(let u=0;u<d;u++)n.isReserved(u,s)||n.xor(u,s,a(e,u,s))},r.getBestMask=function(e,n){const d=Object.keys(r.Patterns).length;let s=0,u=1/0;for(let v=0;v<d;v++){n(v),r.applyMask(v,e);const g=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(v,e),g<u&&(u=g,s=v)}return s}})(sr);var he={};const Bt=pe,se=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],de=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];he.getBlocksCount=function(t,a){switch(a){case Bt.L:return se[(t-1)*4+0];case Bt.M:return se[(t-1)*4+1];case Bt.Q:return se[(t-1)*4+2];case Bt.H:return se[(t-1)*4+3];default:return}};he.getTotalCodewordsCount=function(t,a){switch(a){case Bt.L:return de[(t-1)*4+0];case Bt.M:return de[(t-1)*4+1];case Bt.Q:return de[(t-1)*4+2];case Bt.H:return de[(t-1)*4+3];default:return}};var dr={},me={};const Xt=new Uint8Array(512),ue=new Uint8Array(256);(function(){let t=1;for(let a=0;a<255;a++)Xt[a]=t,ue[t]=a,t<<=1,t&256&&(t^=285);for(let a=255;a<512;a++)Xt[a]=Xt[a-255]})();me.log=function(t){if(t<1)throw new Error("log("+t+")");return ue[t]};me.exp=function(t){return Xt[t]};me.mul=function(t,a){return t===0||a===0?0:Xt[ue[t]+ue[a]]};(function(r){const t=me;r.mul=function(o,e){const n=new Uint8Array(o.length+e.length-1);for(let d=0;d<o.length;d++)for(let s=0;s<e.length;s++)n[d+s]^=t.mul(o[d],e[s]);return n},r.mod=function(o,e){let n=new Uint8Array(o);for(;n.length-e.length>=0;){const d=n[0];for(let u=0;u<e.length;u++)n[u]^=t.mul(e[u],d);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n},r.generateECPolynomial=function(o){let e=new Uint8Array([1]);for(let n=0;n<o;n++)e=r.mul(e,new Uint8Array([1,t.exp(n)]));return e}})(dr);const lr=dr;function ze(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}ze.prototype.initialize=function(t){this.degree=t,this.genPoly=lr.generateECPolynomial(this.degree)};ze.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(t.length+this.degree);a.set(t);const o=lr.mod(a,this.genPoly),e=this.degree-o.length;if(e>0){const n=new Uint8Array(this.degree);return n.set(o,e),n}return o};var Kn=ze,cr={},$t={},He={};He.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var At={};const ur="[0-9]+",Jn="[A-Z $%*+\\-./:]+";let ne="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ne=ne.replace(/u/g,"\\u");const Gn="(?:(?![A-Z0-9 $%*+\\-./:]|"+ne+`)(?:.|[\r
]))+`;At.KANJI=new RegExp(ne,"g");At.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");At.BYTE=new RegExp(Gn,"g");At.NUMERIC=new RegExp(ur,"g");At.ALPHANUMERIC=new RegExp(Jn,"g");const Yn=new RegExp("^"+ne+"$"),qn=new RegExp("^"+ur+"$"),Qn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");At.testKanji=function(t){return Yn.test(t)};At.testNumeric=function(t){return qn.test(t)};At.testAlphanumeric=function(t){return Qn.test(t)};(function(r){const t=He,a=At;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(n,d){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!t.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?n.ccBits[0]:d<27?n.ccBits[1]:n.ccBits[2]},r.getBestModeForData=function(n){return a.testNumeric(n)?r.NUMERIC:a.testAlphanumeric(n)?r.ALPHANUMERIC:a.testKanji(n)?r.KANJI:r.BYTE},r.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},r.isValid=function(n){return n&&n.bit&&n.ccBits};function o(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(n,d){if(r.isValid(n))return n;try{return o(n)}catch{return d}}})($t);(function(r){const t=Nt,a=he,o=pe,e=$t,n=He,d=7973,s=t.getBCHDigit(d);function u(x,m,_){for(let E=1;E<=40;E++)if(m<=r.getCapacity(E,_,x))return E}function v(x,m){return e.getCharCountIndicator(x,m)+4}function g(x,m){let _=0;return x.forEach(function(E){const j=v(E.mode,m);_+=j+E.getBitsLength()}),_}function A(x,m){for(let _=1;_<=40;_++)if(g(x,_)<=r.getCapacity(_,m,e.MIXED))return _}r.from=function(m,_){return n.isValid(m)?parseInt(m,10):_},r.getCapacity=function(m,_,E){if(!n.isValid(m))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=e.BYTE);const j=t.getSymbolTotalCodewords(m),b=a.getTotalCodewordsCount(m,_),y=(j-b)*8;if(E===e.MIXED)return y;const k=y-v(E,m);switch(E){case e.NUMERIC:return Math.floor(k/10*3);case e.ALPHANUMERIC:return Math.floor(k/11*2);case e.KANJI:return Math.floor(k/13);case e.BYTE:default:return Math.floor(k/8)}},r.getBestVersionForData=function(m,_){let E;const j=o.from(_,o.M);if(Array.isArray(m)){if(m.length>1)return A(m,j);if(m.length===0)return 1;E=m[0]}else E=m;return u(E.mode,E.getLength(),j)},r.getEncodedBits=function(m){if(!n.isValid(m)||m<7)throw new Error("Invalid QR Code version");let _=m<<12;for(;t.getBCHDigit(_)-s>=0;)_^=d<<t.getBCHDigit(_)-s;return m<<12|_}})(cr);var fr={};const Me=Nt,vr=1335,Zn=21522,qe=Me.getBCHDigit(vr);fr.getEncodedBits=function(t,a){const o=t.bit<<3|a;let e=o<<10;for(;Me.getBCHDigit(e)-qe>=0;)e^=vr<<Me.getBCHDigit(e)-qe;return(o<<10|e)^Zn};var gr={};const Xn=$t;function Vt(r){this.mode=Xn.NUMERIC,this.data=r.toString()}Vt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Vt.prototype.getLength=function(){return this.data.length};Vt.prototype.getBitsLength=function(){return Vt.getBitsLength(this.data.length)};Vt.prototype.write=function(t){let a,o,e;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),e=parseInt(o,10),t.put(e,10);const n=this.data.length-a;n>0&&(o=this.data.substr(a),e=parseInt(o,10),t.put(e,n*3+1))};var to=Vt;const eo=$t,ye=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Wt(r){this.mode=eo.ALPHANUMERIC,this.data=r}Wt.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Wt.prototype.getLength=function(){return this.data.length};Wt.prototype.getBitsLength=function(){return Wt.getBitsLength(this.data.length)};Wt.prototype.write=function(t){let a;for(a=0;a+2<=this.data.length;a+=2){let o=ye.indexOf(this.data[a])*45;o+=ye.indexOf(this.data[a+1]),t.put(o,11)}this.data.length%2&&t.put(ye.indexOf(this.data[a]),6)};var ro=Wt;const no=$t;function Kt(r){this.mode=no.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Kt.getBitsLength=function(t){return t*8};Kt.prototype.getLength=function(){return this.data.length};Kt.prototype.getBitsLength=function(){return Kt.getBitsLength(this.data.length)};Kt.prototype.write=function(r){for(let t=0,a=this.data.length;t<a;t++)r.put(this.data[t],8)};var oo=Kt;const ao=$t,io=Nt;function Jt(r){this.mode=ao.KANJI,this.data=r}Jt.getBitsLength=function(t){return t*13};Jt.prototype.getLength=function(){return this.data.length};Jt.prototype.getBitsLength=function(){return Jt.getBitsLength(this.data.length)};Jt.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let a=io.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}};var so=Jt,pr={exports:{}};(function(r){var t={single_source_shortest_paths:function(a,o,e){var n={},d={};d[o]=0;var s=t.PriorityQueue.make();s.push(o,0);for(var u,v,g,A,x,m,_,E,j;!s.empty();){u=s.pop(),v=u.value,A=u.cost,x=a[v]||{};for(g in x)x.hasOwnProperty(g)&&(m=x[g],_=A+m,E=d[g],j=typeof d[g]>"u",(j||E>_)&&(d[g]=_,s.push(g,_),n[g]=v))}if(typeof e<"u"&&typeof d[e]>"u"){var b=["Could not find a path from ",o," to ",e,"."].join("");throw new Error(b)}return n},extract_shortest_path_from_predecessor_list:function(a,o){for(var e=[],n=o;n;)e.push(n),a[n],n=a[n];return e.reverse(),e},find_path:function(a,o,e){var n=t.single_source_shortest_paths(a,o,e);return t.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(a){var o=t.PriorityQueue,e={},n;a=a||{};for(n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return e.queue=[],e.sorter=a.sorter||o.default_sorter,e},default_sorter:function(a,o){return a.cost-o.cost},push:function(a,o){var e={value:a,cost:o};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(pr);var lo=pr.exports;(function(r){const t=$t,a=to,o=ro,e=oo,n=so,d=At,s=Nt,u=lo;function v(b){return unescape(encodeURIComponent(b)).length}function g(b,y,k){const w=[];let I;for(;(I=b.exec(k))!==null;)w.push({data:I[0],index:I.index,mode:y,length:I[0].length});return w}function A(b){const y=g(d.NUMERIC,t.NUMERIC,b),k=g(d.ALPHANUMERIC,t.ALPHANUMERIC,b);let w,I;return s.isKanjiModeEnabled()?(w=g(d.BYTE,t.BYTE,b),I=g(d.KANJI,t.KANJI,b)):(w=g(d.BYTE_KANJI,t.BYTE,b),I=[]),y.concat(k,w,I).sort(function(V,gt){return V.index-gt.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function x(b,y){switch(y){case t.NUMERIC:return a.getBitsLength(b);case t.ALPHANUMERIC:return o.getBitsLength(b);case t.KANJI:return n.getBitsLength(b);case t.BYTE:return e.getBitsLength(b)}}function m(b){return b.reduce(function(y,k){const w=y.length-1>=0?y[y.length-1]:null;return w&&w.mode===k.mode?(y[y.length-1].data+=k.data,y):(y.push(k),y)},[])}function _(b){const y=[];for(let k=0;k<b.length;k++){const w=b[k];switch(w.mode){case t.NUMERIC:y.push([w,{data:w.data,mode:t.ALPHANUMERIC,length:w.length},{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.ALPHANUMERIC:y.push([w,{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.KANJI:y.push([w,{data:w.data,mode:t.BYTE,length:v(w.data)}]);break;case t.BYTE:y.push([{data:w.data,mode:t.BYTE,length:v(w.data)}])}}return y}function E(b,y){const k={},w={start:{}};let I=["start"];for(let z=0;z<b.length;z++){const V=b[z],gt=[];for(let _t=0;_t<V.length;_t++){const pt=V[_t],R=""+z+_t;gt.push(R),k[R]={node:pt,lastCount:0},w[R]={};for(let q=0;q<I.length;q++){const N=I[q];k[N]&&k[N].node.mode===pt.mode?(w[N][R]=x(k[N].lastCount+pt.length,pt.mode)-x(k[N].lastCount,pt.mode),k[N].lastCount+=pt.length):(k[N]&&(k[N].lastCount=pt.length),w[N][R]=x(pt.length,pt.mode)+4+t.getCharCountIndicator(pt.mode,y))}}I=gt}for(let z=0;z<I.length;z++)w[I[z]].end=0;return{map:w,table:k}}function j(b,y){let k;const w=t.getBestModeForData(b);if(k=t.from(y,w),k!==t.BYTE&&k.bit<w.bit)throw new Error('"'+b+'" cannot be encoded with mode '+t.toString(k)+`.
 Suggested mode is: `+t.toString(w));switch(k===t.KANJI&&!s.isKanjiModeEnabled()&&(k=t.BYTE),k){case t.NUMERIC:return new a(b);case t.ALPHANUMERIC:return new o(b);case t.KANJI:return new n(b);case t.BYTE:return new e(b)}}r.fromArray=function(y){return y.reduce(function(k,w){return typeof w=="string"?k.push(j(w,null)):w.data&&k.push(j(w.data,w.mode)),k},[])},r.fromString=function(y,k){const w=A(y,s.isKanjiModeEnabled()),I=_(w),z=E(I,k),V=u.find_path(z.map,"start","end"),gt=[];for(let _t=1;_t<V.length-1;_t++)gt.push(z.table[V[_t]].node);return r.fromArray(m(gt))},r.rawSplit=function(y){return r.fromArray(A(y,s.isKanjiModeEnabled()))}})(gr);const be=Nt,ke=pe,co=Hn,uo=Vn,fo=ar,vo=ir,Be=sr,Pe=he,go=Kn,fe=cr,po=fr,ho=$t,Ce=gr;function mo(r,t){const a=r.size,o=vo.getPositions(t);for(let e=0;e<o.length;e++){const n=o[e][0],d=o[e][1];for(let s=-1;s<=7;s++)if(!(n+s<=-1||a<=n+s))for(let u=-1;u<=7;u++)d+u<=-1||a<=d+u||(s>=0&&s<=6&&(u===0||u===6)||u>=0&&u<=6&&(s===0||s===6)||s>=2&&s<=4&&u>=2&&u<=4?r.set(n+s,d+u,!0,!0):r.set(n+s,d+u,!1,!0))}}function bo(r){const t=r.size;for(let a=8;a<t-8;a++){const o=a%2===0;r.set(a,6,o,!0),r.set(6,a,o,!0)}}function _o(r,t){const a=fo.getPositions(t);for(let o=0;o<a.length;o++){const e=a[o][0],n=a[o][1];for(let d=-2;d<=2;d++)for(let s=-2;s<=2;s++)d===-2||d===2||s===-2||s===2||d===0&&s===0?r.set(e+d,n+s,!0,!0):r.set(e+d,n+s,!1,!0)}}function xo(r,t){const a=r.size,o=fe.getEncodedBits(t);let e,n,d;for(let s=0;s<18;s++)e=Math.floor(s/3),n=s%3+a-8-3,d=(o>>s&1)===1,r.set(e,n,d,!0),r.set(n,e,d,!0)}function Ee(r,t,a){const o=r.size,e=po.getEncodedBits(t,a);let n,d;for(n=0;n<15;n++)d=(e>>n&1)===1,n<6?r.set(n,8,d,!0):n<8?r.set(n+1,8,d,!0):r.set(o-15+n,8,d,!0),n<8?r.set(8,o-n-1,d,!0):n<9?r.set(8,15-n-1+1,d,!0):r.set(8,15-n-1,d,!0);r.set(o-8,8,1,!0)}function wo(r,t){const a=r.size;let o=-1,e=a-1,n=7,d=0;for(let s=a-1;s>0;s-=2)for(s===6&&s--;;){for(let u=0;u<2;u++)if(!r.isReserved(e,s-u)){let v=!1;d<t.length&&(v=(t[d]>>>n&1)===1),r.set(e,s-u,v),n--,n===-1&&(d++,n=7)}if(e+=o,e<0||a<=e){e-=o,o=-o;break}}}function yo(r,t,a){const o=new co;a.forEach(function(u){o.put(u.mode.bit,4),o.put(u.getLength(),ho.getCharCountIndicator(u.mode,r)),u.write(o)});const e=be.getSymbolTotalCodewords(r),n=Pe.getTotalCodewordsCount(r,t),d=(e-n)*8;for(o.getLengthInBits()+4<=d&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const s=(d-o.getLengthInBits())/8;for(let u=0;u<s;u++)o.put(u%2?17:236,8);return ko(o,r,t)}function ko(r,t,a){const o=be.getSymbolTotalCodewords(t),e=Pe.getTotalCodewordsCount(t,a),n=o-e,d=Pe.getBlocksCount(t,a),s=o%d,u=d-s,v=Math.floor(o/d),g=Math.floor(n/d),A=g+1,x=v-g,m=new go(x);let _=0;const E=new Array(d),j=new Array(d);let b=0;const y=new Uint8Array(r.buffer);for(let V=0;V<d;V++){const gt=V<u?g:A;E[V]=y.slice(_,_+gt),j[V]=m.encode(E[V]),_+=gt,b=Math.max(b,gt)}const k=new Uint8Array(o);let w=0,I,z;for(I=0;I<b;I++)for(z=0;z<d;z++)I<E[z].length&&(k[w++]=E[z][I]);for(I=0;I<x;I++)for(z=0;z<d;z++)k[w++]=j[z][I];return k}function Co(r,t,a,o){let e;if(Array.isArray(r))e=Ce.fromArray(r);else if(typeof r=="string"){let v=t;if(!v){const g=Ce.rawSplit(r);v=fe.getBestVersionForData(g,a)}e=Ce.fromString(r,v||40)}else throw new Error("Invalid data");const n=fe.getBestVersionForData(e,a);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=n;else if(t<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const d=yo(t,a,e),s=be.getSymbolSize(t),u=new uo(s);return mo(u,t),bo(u),_o(u,t),Ee(u,a,0),t>=7&&xo(u,t),wo(u,d),isNaN(o)&&(o=Be.getBestMask(u,Ee.bind(null,u,a))),Be.applyMask(o,u),Ee(u,a,o),{modules:u,version:t,errorCorrectionLevel:a,maskPattern:o,segments:e}}nr.create=function(t,a){if(typeof t>"u"||t==="")throw new Error("No input text");let o=ke.M,e,n;return typeof a<"u"&&(o=ke.from(a.errorCorrectionLevel,ke.M),e=fe.from(a.version),n=Be.from(a.maskPattern),a.toSJISFunc&&be.setToSJISFunction(a.toSJISFunc)),Co(t,e,o,n)};var hr={},Ve={};(function(r){function t(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let o=a.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+a);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(n){return[n,n]}))),o.length===6&&o.push("F","F");const e=parseInt(o.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+o.slice(0,6).join("")}}r.getOptions=function(o){o||(o={}),o.color||(o.color={});const e=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,n=o.width&&o.width>=21?o.width:void 0,d=o.scale||4;return{width:n,scale:n?4:d,margin:e,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},r.getScale=function(o,e){return e.width&&e.width>=o+e.margin*2?e.width/(o+e.margin*2):e.scale},r.getImageWidth=function(o,e){const n=r.getScale(o,e);return Math.floor((o+e.margin*2)*n)},r.qrToImageData=function(o,e,n){const d=e.modules.size,s=e.modules.data,u=r.getScale(d,n),v=Math.floor((d+n.margin*2)*u),g=n.margin*u,A=[n.color.light,n.color.dark];for(let x=0;x<v;x++)for(let m=0;m<v;m++){let _=(x*v+m)*4,E=n.color.light;if(x>=g&&m>=g&&x<v-g&&m<v-g){const j=Math.floor((x-g)/u),b=Math.floor((m-g)/u);E=A[s[j*d+b]?1:0]}o[_++]=E.r,o[_++]=E.g,o[_++]=E.b,o[_]=E.a}}})(Ve);(function(r){const t=Ve;function a(e,n,d){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=d,n.width=d,n.style.height=d+"px",n.style.width=d+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(n,d,s){let u=s,v=d;typeof u>"u"&&(!d||!d.getContext)&&(u=d,d=void 0),d||(v=o()),u=t.getOptions(u);const g=t.getImageWidth(n.modules.size,u),A=v.getContext("2d"),x=A.createImageData(g,g);return t.qrToImageData(x.data,n,u),a(A,v,g),A.putImageData(x,0,0),v},r.renderToDataURL=function(n,d,s){let u=s;typeof u>"u"&&(!d||!d.getContext)&&(u=d,d=void 0),u||(u={});const v=r.render(n,d,u),g=u.type||"image/png",A=u.rendererOpts||{};return v.toDataURL(g,A.quality)}})(hr);var mr={};const Eo=Ve;function Qe(r,t){const a=r.a/255,o=t+'="'+r.hex+'"';return a<1?o+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function Se(r,t,a){let o=r+t;return typeof a<"u"&&(o+=" "+a),o}function So(r,t,a){let o="",e=0,n=!1,d=0;for(let s=0;s<r.length;s++){const u=Math.floor(s%t),v=Math.floor(s/t);!u&&!n&&(n=!0),r[s]?(d++,s>0&&u>0&&r[s-1]||(o+=n?Se("M",u+a,.5+v+a):Se("m",e,0),e=0,n=!1),u+1<t&&r[s+1]||(o+=Se("h",d),d=0)):e++}return o}mr.render=function(t,a,o){const e=Eo.getOptions(a),n=t.modules.size,d=t.modules.data,s=n+e.margin*2,u=e.color.light.a?"<path "+Qe(e.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",v="<path "+Qe(e.color.dark,"stroke")+' d="'+So(d,n,e.margin)+'"/>',g='viewBox="0 0 '+s+" "+s+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+g+' shape-rendering="crispEdges">'+u+v+`</svg>
`;return typeof o=="function"&&o(null,x),x};const No=On,$e=nr,br=hr,To=mr;function We(r,t,a,o,e){const n=[].slice.call(arguments,1),d=n.length,s=typeof n[d-1]=="function";if(!s&&!No())throw new Error("Callback required as last argument");if(s){if(d<2)throw new Error("Too few arguments provided");d===2?(e=a,a=t,t=o=void 0):d===3&&(t.getContext&&typeof e>"u"?(e=o,o=void 0):(e=o,o=a,a=t,t=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(a=t,t=o=void 0):d===2&&!t.getContext&&(o=a,a=t,t=void 0),new Promise(function(u,v){try{const g=$e.create(a,o);u(r(g,t,o))}catch(g){v(g)}})}try{const u=$e.create(a,o);e(null,r(u,t,o))}catch(u){e(u)}}ae.create=$e.create;ae.toCanvas=We.bind(null,br.render);ae.toDataURL=We.bind(null,br.renderToDataURL);ae.toString=We.bind(null,function(r,t,a){return To.render(r,a)});var Ao=T('<div class="h-[60vh] flex items-center justify-center"><!></div>'),Io=T('<div class="bg-black border border-primary/20 p-2"><img alt="QR Code" class="w-32 h-32"/></div>'),Mo=T('<div class="flex justify-between items-start mb-6"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest"> </span> <button><!></button></div> <div class="flex flex-col md:flex-row gap-8 items-center"><!> <div class="flex-1 w-full"><div class="text-5xl font-bold text-white mb-2"> <span class="text-2xl text-primary">SOL</span></div> <div class="flex flex-col gap-2 mt-4"><span class="text-[10px] font-mono text-muted-foreground uppercase">Public Key</span> <button class="flex items-center justify-between bg-card border border-border p-3 hover:border-primary/50 transition-colors group text-left w-full"><span class="text-xs font-mono text-muted-foreground truncate mr-2"> </span> <!></button></div></div></div>',1),Bo=T('<div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!> <div class="bg-card border border-border p-8 flex flex-col relative overflow-hidden"><div class="absolute top-0 right-0 p-4 opacity-10"><!></div> <h3 class="text-xl font-bold mb-6 flex items-center gap-2 italic relative z-10"><!> DISPATCH FUNDS</h3> <div class="space-y-6 relative z-10"><div><label class="block text-[10px] font-mono text-muted-foreground mb-2 uppercase tracking-widest">Recipient</label> <input type="text" class="w-full bg-black border border-border p-4 text-sm focus:border-primary outline-none text-white font-mono placeholder:text-muted-foreground/30 transition-colors" placeholder="Solana Address..."/></div> <div><label class="block text-[10px] font-mono text-muted-foreground mb-2 uppercase tracking-widest">Amount</label> <div class="relative"><input type="number" class="w-full bg-black border border-border p-4 text-xl focus:border-primary outline-none text-white font-mono transition-colors pr-16" placeholder="0.00"/> <button class="absolute right-4 top-1/2 -translate-y-1/2 text-xs text-primary font-bold hover:text-white transition-colors border border-primary/30 px-2 py-1 bg-primary/10 hover:bg-primary/20">MAX</button></div></div></div> <button class="w-full bg-primary text-black font-bold py-4 mt-8 hover:bg-white transition-all active:scale-[0.98] relative z-10 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div>');function Po(r,t){Yt(t,!1);let a=Ne(t,"profile",8,"warden"),o=U(0),e=U("Loading..."),n=U(""),d=U(!0),s=U(!1),u=U(""),v=U("");async function g(){C(d,!0);try{const b=await Pr();C(e,b[a()]||"Address not found"),i(e)&&i(e)!=="Address not found"&&C(n,await ae.toDataURL(i(e),{color:{dark:"#fed600",light:"#00000000"},margin:1}));const y=await ce(a());C(o,y.lamports/1e9)}catch(b){console.error(b)}finally{C(d,!1)}}async function A(){if(!i(u)||!i(v)){bt("Please provide recipient and amount","error");return}C(s,!0);try{const b=await $r(a(),i(u),parseFloat(i(v)));bt(`Transfer Successful: ${b.signature.slice(0,8)}...`,"success"),C(u,""),C(v,""),g()}catch(b){bt(`Transfer Failed: ${b}`,"error")}finally{C(s,!1)}}function x(){navigator.clipboard.writeText(i(e)),bt("Address copied to clipboard","info")}Dt(()=>wr(a()),()=>{a()&&g()}),ve(),Gt();var m=wt(),_=G(m);{var E=b=>{var y=Ao(),k=c(y);ge(k),l(y),p(b,y)},j=b=>{var y=Bo(),k=c(y);jt(k,{children:(it,P)=>{var S=Mo(),h=G(S),$=c(h),W=c($);l($);var Z=f($,2);Z.__click=g;var dt=c(Z);{let F=De(()=>i(d)||i(s)?"animate-spin":"");je(dt,{get class(){return`w-4 h-4 text-muted-foreground hover:text-white ${i(F)??""}`}})}l(Z),l(h);var tt=f(h,2),ot=c(tt);{var lt=F=>{var O=Io(),ft=c(O);l(O),vt(()=>Br(ft,"src",i(n))),p(F,O)};Y(ot,F=>{i(n)&&F(lt)})}var ut=f(ot,2),K=c(ut),et=c(K);xt(),l(K);var D=f(K,2),B=f(c(D),2);B.__click=x;var rt=c(B),Q=c(rt,!0);l(rt);var nt=f(rt,2);Ie(nt,{class:"w-3 h-3 text-muted-foreground group-hover:text-primary"}),l(B),l(D),l(ut),l(tt),vt(F=>{L(W,`${a()??""} WALLET`),Z.disabled=i(d)||i(s),L(et,`${F??""} `),L(Q,i(e))},[()=>(i(o),J(()=>i(o).toFixed(4)))]),p(it,S)},$$slots:{default:!0}});var w=f(k,2),I=c(w),z=c(I);Lr(z,{class:"w-32 h-32"}),l(I);var V=f(I,2),gt=c(V);tr(gt,{class:"w-5 h-5 text-primary"}),xt(),l(V);var _t=f(V,2),pt=c(_t),R=f(c(pt),2);te(R),l(pt);var q=f(pt,2),N=f(c(q),2),M=c(N);te(M);var H=f(M,2);H.__click=()=>C(v,Math.max(0,i(o)-.005).toFixed(4)),l(N),l(q),l(_t);var X=f(_t,2);X.__click=A;var ct=c(X,!0);l(X),l(w),l(y),vt(()=>{X.disabled=i(s),L(ct,i(s)?"Processing...":"Execute Transaction")}),re(R,()=>i(u),it=>C(u,it)),re(M,()=>i(v),it=>C(v,it)),p(b,y)};Y(_,b=>{i(d)?b(E):b(j,!1)})}p(r,m),qt()}oe(["click"]);var $o=T('<div class="h-[60vh] bg-black border border-border p-4 font-mono text-xs overflow-y-auto text-muted-foreground"><div class="text-primary mb-2">root@zarkham-node:~# tail -f /var/log/syslog</div> <div class="space-y-1"><p>[INFO] System initialized. Version 1.0.0</p> <p>[INFO] P2P Host started. Listening on 0.0.0.0:0</p> <p>[INFO] Loading wallet profile...</p> <p>[WARN] DHT bootstrap pending...</p> <p class="text-green-500">[SUCCESS] Network uplink established.</p> <p class="animate-pulse">_</p></div></div>');function Lo(r){var t=$o();p(r,t)}var Ro=T('<div class="flex items-center justify-center h-64"><!></div>'),Do=T('<div class="bg-card border border-border p-4 flex items-center justify-between hover:border-primary/30 transition-colors group"><div class="flex items-center gap-4"><div class="p-2 bg-secondary rounded-none"><!></div> <div><div class="font-bold text-sm"> </div> <div class="text-[10px] font-mono text-muted-foreground flex items-center gap-1"><!> </div></div></div> <div class="text-right"><div class="font-mono font-bold"> </div> <div class="text-[10px] text-muted-foreground truncate w-24"> </div></div></div>'),Fo=T('<div class="text-center text-muted-foreground py-12 text-sm">No transaction history found.</div>'),Uo=T('<div class="space-y-2"><!> <!></div>'),jo=T('<div class="bg-card border border-border p-4 flex items-center justify-between hover:border-primary/30 transition-colors"><div><div class="font-bold text-sm"> </div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div> <div class="text-right font-mono text-primary"> </div></div>'),Oo=T('<div class="text-center text-muted-foreground py-12 text-sm">No token history found.</div>'),zo=T('<div class="space-y-2"><!> <!></div>'),Ho=T('<div class="bg-card border border-border p-4 flex items-center justify-between"><div><div class="font-bold text-sm">Session Ended</div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div> <div class="text-right text-xs"><span class="block text-primary"> </span> <span class="text-muted-foreground"> </span></div></div>'),Vo=T('<div class="text-center text-muted-foreground py-12 text-sm">No connection history found.</div>'),Wo=T('<div class="space-y-2"><!> <!></div>'),Ko=T('<div class="bg-card border border-border p-4 flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><div class="font-bold text-sm">Proof Submitted</div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div></div> <div class="font-mono text-primary text-sm"> </div></div>'),Jo=T('<div class="text-center text-muted-foreground py-12 text-sm">No proofs submitted.</div>'),Go=T('<div class="space-y-2"><!> <!></div>'),Yo=T("<!> <!> <!> <!>",1),qo=T('<div class="space-y-6"><div class="flex gap-4 border-b border-border pb-1"><button>SOLANA</button> <button>ARKHAM</button> <button>CONNECTIONS</button> <button>THROUGHPUT</button></div> <div class="min-h-[400px]"><!></div></div>');function Qo(r,t){Yt(t,!1);const a=()=>le(Ue,"$activeMode",o),[o,e]=Fe();let n=U({solHistory:[],arkhamHistory:[],connectionHistory:[],throughputHistory:[]}),d=U(!0),s=U("sol");async function u(){C(d,!0),C(n,await Ze(a())),C(d,!1)}function v(w){return new Date(w).toLocaleString()}Dt(()=>a(),()=>{a()&&u()}),ve(),Gt();var g=qo(),A=c(g),x=c(A);x.__click=()=>C(s,"sol");var m=f(x,2);m.__click=()=>C(s,"arkham");var _=f(m,2);_.__click=()=>C(s,"connections");var E=f(_,2);E.__click=()=>C(s,"throughput"),l(A);var j=f(A,2),b=c(j);{var y=w=>{var I=Ro(),z=c(I);ge(z),l(I),p(w,I)},k=w=>{var I=Yo(),z=G(I);{var V=M=>{var H=Uo(),X=c(H);Ft(X,1,()=>(i(n),J(()=>i(n).solHistory)),Ut,(P,S)=>{var h=Do(),$=c(h),W=c($),Z=c(W);{var dt=O=>{Hr(O,{class:"w-4 h-4 text-red-500"})},tt=O=>{zr(O,{class:"w-4 h-4 text-green-500"})};Y(Z,O=>{i(S),J(()=>i(S).type.includes("Sent"))?O(dt):O(tt,!1)})}l(W);var ot=f(W,2),lt=c(ot),ut=c(lt,!0);l(lt);var K=f(lt,2),et=c(K);Wr(et,{class:"w-3 h-3"});var D=f(et);l(K),l(ot),l($);var B=f($,2),rt=c(B),Q=c(rt);l(rt);var nt=f(rt,2),F=c(nt,!0);l(nt),l(B),l(h),vt((O,ft)=>{L(ut,(i(S),J(()=>i(S).type))),L(D,` ${O??""}`),L(Q,`${ft??""} SOL`),L(F,(i(S),J(()=>i(S).signature)))},[()=>(i(S),J(()=>v(i(S).timestamp))),()=>(i(S),J(()=>(i(S).amount/1e9).toFixed(4)))]),p(P,h)});var ct=f(X,2);{var it=P=>{var S=Fo();p(P,S)};Y(ct,P=>{i(n),J(()=>i(n).solHistory.length===0)&&P(it)})}l(H),p(M,H)};Y(z,M=>{i(s),i(n),J(()=>i(s)==="sol"&&i(n).solHistory)&&M(V)})}var gt=f(z,2);{var _t=M=>{var H=zo(),X=c(H);Ft(X,1,()=>(i(n),J(()=>i(n).arkhamHistory)),Ut,(P,S)=>{var h=jo(),$=c(h),W=c($),Z=c(W,!0);l(W);var dt=f(W,2),tt=c(dt,!0);l(dt),l($);var ot=f($,2),lt=c(ot);l(ot),l(h),vt((ut,K)=>{L(Z,(i(S),J(()=>i(S).type))),L(tt,ut),L(lt,`${K??""} ARKHAM`)},[()=>(i(S),J(()=>v(i(S).timestamp))),()=>(i(S),J(()=>(i(S).amount/1e9).toFixed(4)))]),p(P,h)});var ct=f(X,2);{var it=P=>{var S=Oo();p(P,S)};Y(ct,P=>{i(n),J(()=>i(n).arkhamHistory.length===0)&&P(it)})}l(H),p(M,H)};Y(gt,M=>{i(s),i(n),J(()=>i(s)==="arkham"&&i(n).arkhamHistory)&&M(_t)})}var pt=f(gt,2);{var R=M=>{var H=Wo(),X=c(H);Ft(X,1,()=>(i(n),J(()=>i(n).connectionHistory)),Ut,(P,S)=>{var h=Ho(),$=c(h),W=f(c($),2),Z=c(W,!0);l(W),l($);var dt=f($,2),tt=c(dt),ot=c(tt);l(tt);var lt=f(tt,2),ut=c(lt);l(lt),l(dt),l(h),vt((K,et,D)=>{L(Z,K),L(ot,`${et??""} MB`),L(ut,`EARNED: ${D??""} SOL`)},[()=>(i(S),J(()=>v(i(S).timestamp))),()=>(i(S),J(()=>(i(S).bandwidth/1024/1024).toFixed(2))),()=>(i(S),J(()=>(i(S).earnings/1e9).toFixed(4)))]),p(P,h)});var ct=f(X,2);{var it=P=>{var S=Vo();p(P,S)};Y(ct,P=>{i(n),J(()=>i(n).connectionHistory.length===0)&&P(it)})}l(H),p(M,H)};Y(pt,M=>{i(s),i(n),J(()=>i(s)==="connections"&&i(n).connectionHistory)&&M(R)})}var q=f(pt,2);{var N=M=>{var H=Go(),X=c(H);Ft(X,1,()=>(i(n),J(()=>i(n).throughputHistory)),Ut,(P,S)=>{var h=Ko(),$=c(h),W=c($);Kr(W,{class:"w-4 h-4 text-muted-foreground"});var Z=f(W,2),dt=f(c(Z),2),tt=c(dt,!0);l(dt),l(Z),l($);var ot=f($,2),lt=c(ot);l(ot),l(h),vt(ut=>{L(tt,ut),L(lt,`${i(S),J(()=>i(S).mbConsumed)??""} MB`)},[()=>(i(S),J(()=>v(i(S).timestamp)))]),p(P,h)});var ct=f(X,2);{var it=P=>{var S=Jo();p(P,S)};Y(ct,P=>{i(n),J(()=>i(n).throughputHistory.length===0)&&P(it)})}l(H),p(M,H)};Y(q,M=>{i(s),i(n),J(()=>i(s)==="throughput"&&i(n).throughputHistory)&&M(N)})}p(w,I)};Y(b,w=>{i(d)?w(y):w(k,!1)})}l(j),l(g),vt(()=>{Et(x,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${i(s)==="sol"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Et(m,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${i(s)==="arkham"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Et(_,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${i(s)==="connections"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Et(E,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${i(s)==="throughput"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`)}),p(r,g),qt(),e()}oe(["click"]);function ua(r){const t=()=>le(kr,"$activeTab",o),a=()=>le(Ue,"$activeMode",o),[o,e]=Fe();var n=wt(),d=G(n);{var s=v=>{var g=wt(),A=G(g);{var x=_=>{pn(_,{})},m=_=>{jn(_,{})};Y(A,_=>{a()==="warden"?_(x):_(m,!1)})}p(v,g)},u=v=>{var g=wt(),A=G(g);{var x=_=>{Po(_,{get profile(){return a()}})},m=_=>{var E=wt(),j=G(E);{var b=k=>{Qo(k,{})},y=k=>{var w=wt(),I=G(w);{var z=V=>{Lo(V)};Y(I,V=>{t()==="console"&&V(z)},!0)}p(k,w)};Y(j,k=>{t()==="history"?k(b):k(y,!1)},!0)}p(_,E)};Y(A,_=>{t()==="wallet"?_(x):_(m,!1)},!0)}p(v,g)};Y(d,v=>{t()==="overview"?v(s):v(u,!1)})}p(r,n),e()}export{ua as component};
