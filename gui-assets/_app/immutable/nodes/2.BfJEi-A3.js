import{c as mt,a as h,f as I,s as R,d as Zt}from"../chunks/ubPwTb5a.js";import{i as Ht}from"../chunks/8Y7wEPAu.js";import{f as X,s as f,c as u,r as c,p as zt,bd as Mt,be as de,t as ft,j as z,g as d,m as j,a as Vt,b as T,o as Me,n as bt,d as ze,bf as vr,D as gr}from"../chunks/RDyAwT4X.js";import{l as Rt,s as Lt,b as oe,i as Z,a as Be,p as Ce}from"../chunks/CXtzPwCl.js";import{a as Pe,c as ht,X as pr,b as hr}from"../chunks/Mhks3d_c.js";import{I as Dt,p as Tt,e as Bt,i as Pt,q as Ve,k as mr,j as br,f as ae,r as Yt,s as Nt,t as _r,n as xr,u as wr,v as yr,g as Ee,a as Cr,d as Er,c as kr,w as Nr,h as Sr}from"../chunks/BIGeXW0d.js";import{S as Gt,b as qt}from"../chunks/BuCo8zw0.js";import{A as We,R as Ke,W as Tr}from"../chunks/CESO4Sx7.js";import{S as Ue,C as Ar,T as Ir}from"../chunks/k4T_Maww.js";import{Z as ke}from"../chunks/Bzdm1276.js";import{A as Je,N as Mr,S as Br}from"../chunks/CQ96_0kG.js";import{C as Ne}from"../chunks/CxEt90W1.js";import{L as Pr,W as $r}from"../chunks/Dn6d0y1-.js";function Rr(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M17 7 7 17"}],["path",{d:"M17 17H7V7"}]];Dt(r,Lt({name:"arrow-down-left"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function Lr(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M7 7h10v10"}],["path",{d:"M7 17 17 7"}]];Dt(r,Lt({name:"arrow-up-right"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function Dr(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}]];Dt(r,Lt({name:"chart-pie"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function Fr(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];Dt(r,Lt({name:"clock"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function Ur(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];Dt(r,Lt({name:"file-text"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function Or(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Dt(r,Lt({name:"loader-circle"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}function jr(r,t){const a=Rt(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M12 2v10"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"}]];Dt(r,Lt({name:"power"},()=>a,{get iconNode(){return o},children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}))}var Hr=I('<div class="relative group"><div class="absolute top-0 left-0 w-3 h-3 border-l-2 border-t-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute top-0 right-0 w-3 h-3 border-r-2 border-t-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute bottom-0 left-0 w-3 h-3 border-l-2 border-b-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <div class="absolute bottom-0 right-0 w-3 h-3 border-r-2 border-b-2 border-primary/50 group-hover:border-primary transition-colors z-20"></div> <!></div>');function $t(r,t){var a=Hr(),o=f(u(a),8);Gt(o,{children:(e,n)=>{var s=mt(),i=X(s);Tt(i,t,"default",{}),h(e,s)},$$slots:{default:!0}}),c(a),h(r,a)}var zr=I('<div class="flex flex-col items-center justify-center gap-4 p-8"><div class="w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin"></div> <span class="text-xs font-mono text-primary animate-pulse tracking-widest">SCANNING...</span></div>');function le(r){var t=zr();h(r,t)}var Vr=I('<div class="bg-card border border-border p-3 flex justify-between items-center text-sm"><span> </span> <span class="font-mono text-muted-foreground"> </span></div>'),Wr=I('<div class="text-center text-muted-foreground text-xs italic py-4">No recent activity</div>'),Kr=I('<div class="mt-8"><div class="flex justify-between items-center mb-4"><h3 class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Recent Activity</h3> <span class="text-xs text-primary flex items-center gap-1">VIEW ALL <!></span></div> <div class="space-y-2"><!> <!></div></div>');function Jr(r,t){zt(t,!1);const a=()=>oe(Pe,"$activeMode",o),[o,e]=Be();let n=j([]);async function s(){const p=await Ve(a()),$=[...p.solHistory,...p.arkhamHistory,...p.connectionHistory,...p.throughputHistory].sort((x,N)=>new Date(N.timestamp).getTime()-new Date(x.timestamp).getTime());T(n,$.slice(0,3))}Mt(()=>a(),()=>{a()&&s()}),de(),Ht();var i=Kr(),l=u(i),v=f(u(l),2),g=f(u(v));We(g,{class:"w-3 h-3"}),c(v),c(l);var S=f(l,2),y=u(S);Bt(y,1,()=>d(n),Pt,(p,$)=>{var x=Vr(),N=u(x),w=u(N,!0);c(N);var _=f(N,2),P=u(_,!0);c(_),c(x),ft(L=>{R(w,(d($),z(()=>d($).type||"Transaction"))),R(P,L)},[()=>(d($),z(()=>new Date(d($).timestamp).toLocaleTimeString()))]),h(p,x)});var b=f(y,2);{var m=p=>{var $=Wr();h(p,$)};Z(b,p=>{d(n),z(()=>d(n).length===0)&&p(m)})}c(S),c(i),h(r,i),Vt(),e()}var Yr=I('<div class="h-[60vh] flex items-center justify-center"><!></div>'),Gr=I('<button><!> <span class="font-bold tracking-widest"> </span></button>'),qr=I(`<div class="border border-primary/50 bg-primary/5 p-12 text-center flex flex-col items-center"><!> <h3 class="text-2xl font-bold mb-2">UNREGISTERED NODE</h3> <p class="text-muted-foreground max-w-md mb-8">This node identity is not yet registered on the Solana blockchain.
                    Stake tokens to begin providing bandwidth.</p> <button class="bg-primary text-black px-8 py-3 font-bold hover:bg-white transition-colors">INITIALIZE WARDEN</button></div>`),Qr=I('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Staked</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> <span class="text-lg text-muted-foreground">SOL</span></div> <button class="text-[10px] text-primary hover:underline mt-2 flex items-center gap-1 uppercase font-bold tracking-tighter"> </button>',1),Zr=I('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">SOL Earnings</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <p class="text-xs text-muted-foreground mt-2">Lifetime SOL revenue</p>',1),Xr=I('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Zarkham Earnings</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <p class="text-xs text-muted-foreground mt-2">Lifetime token rewards</p>',1),tn=I('<div class="flex justify-between mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Sessions</span> <!></div> <div class="text-3xl font-bold text-white mb-1"> </div> <div class="flex items-center gap-2 mt-2"><div></div> <span class="text-xs text-muted-foreground uppercase"> </span></div>',1),en=I('<div class="flex justify-between items-center mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Node Identity</span> <!></div> <div class="flex items-center justify-between bg-black border border-border p-3 group hover:border-primary/30 transition-colors"><span class="text-xs font-mono text-muted-foreground truncate w-full mr-2"> </span> <button class="text-muted-foreground hover:text-primary transition-colors" title="Copy Peer ID"><!></button></div> <div class="mt-2 text-xs flex justify-between uppercase font-mono tracking-widest"><span class="text-muted-foreground">Uptime Velocity</span> <span class="text-green-500 font-bold"> </span></div>',1),rn=I('<div class="flex justify-between items-center mb-4"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest">Direct Connect</span> <!></div> <div class="flex items-center justify-between bg-black border border-border p-3 group hover:border-primary/30 transition-colors"><span class="text-xs font-mono text-muted-foreground truncate w-full mr-2"> </span> <button class="text-muted-foreground hover:text-primary transition-colors" title="Copy Multiaddr"><!></button></div> <div class="mt-2 text-xs flex justify-between uppercase font-mono tracking-widest"><span class="text-muted-foreground">Bandwidth Served</span> <span class="text-white font-bold"> </span></div>',1),nn=I('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"><!> <!> <!> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"><!> <!></div> <!>',1),on=I('<div class="flex justify-between items-center"><div><h2 class="text-3xl font-bold uppercase tracking-tighter">Warden Command</h2> <p class="text-sm text-muted-foreground">Network relay management.</p></div> <!></div> <!>',1),an=I('<div class="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50 backdrop-blur-sm"><div class="bg-card border border-primary w-full max-w-md p-8 relative"><button class="absolute top-4 right-4 text-muted-foreground hover:text-white">✕</button> <h3 class="text-2xl font-bold mb-6">Initialize Node</h3> <div class="space-y-4"><div><label class="block text-xs font-mono text-muted-foreground mb-2">STAKE TOKEN</label> <div class="grid grid-cols-2 gap-2"><button>SOL</button> <button>USDC</button></div></div> <div><label class="block text-xs font-mono text-muted-foreground mb-2">AMOUNT</label> <input type="number" class="w-full bg-black border border-border p-3 text-white focus:border-primary outline-none"/></div></div> <button class="w-full bg-primary text-black font-bold py-3 mt-8 hover:bg-white transition-colors">CONFIRM STAKE</button></div></div>'),sn=I('<div class="fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50 backdrop-blur-sm"><div class="bg-card border border-border p-8 w-full max-w-sm text-center"><h3 class="text-xl font-bold mb-6">Asset Allocation</h3> <div class="relative w-48 h-48 mx-auto rounded-full"><div class="absolute inset-4 bg-card rounded-full flex items-center justify-center"><div class="text-center"><span class="block text-2xl font-bold text-primary"> </span> <span class="text-xs text-muted-foreground">STAKED</span></div></div></div> <div class="mt-6 flex justify-between text-xs"><div class="text-left"><span class="block text-primary font-bold"> </span> <span class="text-muted-foreground">Locked</span></div> <div class="text-right"><span class="block text-white font-bold"> </span> <span class="text-muted-foreground">Liquid</span></div></div></div></div>'),dn=I('<div class="space-y-8"><!> <!> <!></div>');function ln(r,t){zt(t,!1);let a=j(!1),o=j(!1),e=j(null),n=j(null),s=j(0),i=j(!0),l=j(!1),v=j(!1),g=j(1),S=j("SOL");Me(y);async function y(){T(i,!0);try{const B=await mr();T(n,B),T(o,B.isRunning);const V=await br("warden");T(a,V.is_registered),T(e,V.warden);const q=await ae("warden");T(s,q.lamports/1e9)}catch(B){console.error(B)}finally{T(i,!1)}}async function b(){try{d(o)?(await wr(),ht("Warden Node Stopped","info")):(await yr(),ht("Warden Node Started","success")),await y()}catch{ht("Command failed","error")}}async function m(){try{await xr("warden",d(S),d(g)),ht("Registration Successful","success"),T(l,!1),await y()}catch(B){ht("Registration Failed: "+B,"error")}}function p(){var B;(B=d(e))!=null&&B.peerId&&(navigator.clipboard.writeText(d(e).peerId),ht("Peer ID copied","info"))}function $(){var B;(B=d(n))!=null&&B.p2pMultiaddr&&(navigator.clipboard.writeText(d(n).p2pMultiaddr),ht("Multiaddr copied","info"))}function x(){var V;if(!((V=d(e))!=null&&V.stakeAmount)||!d(s))return 0;const B=d(e).stakeAmount/1e9;return B/(B+d(s))*100}Ht();var N=dn(),w=u(N);{var _=B=>{var V=Yr(),q=u(V);le(q),c(V),h(B,V)},P=B=>{var V=on(),q=X(V),E=f(u(q),2);{var M=U=>{var k=Gr();k.__click=b;var C=u(k);{let J=ze(()=>d(o)?"animate-pulse":"");jr(C,{get class(){return`w-5 h-5 ${d(J)??""}`}})}var H=f(C,2),Q=u(H,!0);c(H),c(k),ft(()=>{Nt(k,1,`flex items-center gap-3 px-6 py-3 border transition-all duration-300 ${d(o)?"bg-green-500/10 border-green-500 text-green-500 hover:bg-green-500/20":"bg-red-500/10 border-red-500 text-red-500 hover:bg-red-500/20"}`),R(Q,d(o)?"ONLINE":"OFFLINE")}),h(U,k)};Z(E,U=>{d(a)&&U(M)})}c(q);var D=f(q,2);{var K=U=>{var k=qr(),C=u(k);Ue(C,{class:"w-16 h-16 text-primary mb-6"});var H=f(C,6);H.__click=()=>T(l,!0),c(k),h(U,k)},tt=U=>{var k=nn(),C=X(k),H=u(C);$t(H,{children:(O,ut)=>{var Y=Qr(),F=X(Y),lt=f(u(F),2);Dr(lt,{class:"w-5 h-5 text-primary"}),c(F);var G=f(F,2),dt=u(G);bt(),c(G);var rt=f(G,2);rt.__click=()=>T(v,!0);var vt=u(rt);c(rt),ft((at,gt)=>{R(dt,`${at??""} `),R(vt,`${gt??""}% of liquid balance. Visualize →`)},[()=>{var at;return(((at=d(e))==null?void 0:at.stakeAmount)/1e9||0).toFixed(2)},()=>x().toFixed(1)]),h(O,Y)},$$slots:{default:!0}});var Q=f(H,2);$t(Q,{children:(O,ut)=>{var Y=Zr(),F=X(Y),lt=f(u(F),2);ke(lt,{class:"w-5 h-5 text-primary"}),c(F);var G=f(F,2),dt=u(G,!0);c(G),bt(2),ft(rt=>R(dt,rt),[()=>{var rt;return(((rt=d(e))==null?void 0:rt.totalEarnings)/1e9||0).toFixed(4)}]),h(O,Y)},$$slots:{default:!0}});var J=f(Q,2);$t(J,{children:(O,ut)=>{var Y=Xr(),F=X(Y),lt=f(u(F),2);ke(lt,{class:"w-5 h-5 text-primary"}),c(F);var G=f(F,2),dt=u(G,!0);c(G),bt(2),ft(rt=>R(dt,rt),[()=>{var rt;return(((rt=d(e))==null?void 0:rt.arkhamTokensEarned)/1e9||0).toFixed(4)}]),h(O,Y)},$$slots:{default:!0}});var ot=f(J,2);$t(ot,{children:(O,ut)=>{var Y=tn(),F=X(Y),lt=f(u(F),2);Je(lt,{class:"w-5 h-5 text-primary"}),c(F);var G=f(F,2),dt=u(G,!0);c(G);var rt=f(G,2),vt=u(rt),at=f(vt,2),gt=u(at,!0);c(at),c(rt),ft(()=>{var _t,wt,pt;R(dt,((_t=d(e))==null?void 0:_t.activeConnections)||0),Nt(vt,1,`w-2 h-2 rounded-none ${(((wt=d(e))==null?void 0:wt.activeConnections)||0)>0?"bg-green-500 animate-pulse":"bg-red-500"}`),R(gt,(((pt=d(e))==null?void 0:pt.activeConnections)||0)>0?"Connected":"Idle")}),h(O,Y)},$$slots:{default:!0}}),c(C);var et=f(C,2),ct=u(et);Gt(ct,{children:(O,ut)=>{var Y=en(),F=X(Y),lt=f(u(F),2);Ar(lt,{class:"w-4 h-4 text-green-500"}),c(F);var G=f(F,2),dt=u(G),rt=u(dt,!0);c(dt);var vt=f(dt,2);vt.__click=p;var at=u(vt);Ne(at,{class:"w-4 h-4"}),c(vt),c(G);var gt=f(G,2),_t=f(u(gt),2),wt=u(_t);c(_t),c(gt),ft(pt=>{var Et;R(rt,(Et=d(e))==null?void 0:Et.peerId),R(wt,`${pt??""}%`)},[()=>{var pt;return(((pt=d(e))==null?void 0:pt.uptimePercentage)/100||0).toFixed(1)}]),h(O,Y)},$$slots:{default:!0}});var st=f(ct,2);Gt(st,{children:(O,ut)=>{var Y=rn(),F=X(Y),lt=f(u(F),2);Ue(lt,{class:"w-4 h-4 text-primary"}),c(F);var G=f(F,2),dt=u(G),rt=u(dt,!0);c(dt);var vt=f(dt,2);vt.__click=$;var at=u(vt);Ne(at,{class:"w-4 h-4"}),c(vt),c(G);var gt=f(G,2),_t=f(u(gt),2),wt=u(_t);c(_t),c(gt),ft(pt=>{var Et;R(rt,((Et=d(n))==null?void 0:Et.p2pMultiaddr)||"Not available"),R(wt,`${pt??""} GB`)},[()=>{var pt;return(((pt=d(e))==null?void 0:pt.totalBandwidthServed)/1024).toFixed(2)}]),h(O,Y)},$$slots:{default:!0}}),c(et);var nt=f(et,2);Jr(nt,{}),h(U,k)};Z(D,U=>{d(a)?U(tt,!1):U(K)})}h(B,V)};Z(w,B=>{d(i)?B(_):B(P,!1)})}var L=f(w,2);{var A=B=>{var V=an(),q=u(V),E=u(q);E.__click=()=>T(l,!1);var M=f(E,4),D=u(M),K=f(u(D),2),tt=u(K);tt.__click=()=>T(S,"SOL");var U=f(tt,2);U.__click=()=>T(S,"USDC"),c(K),c(D);var k=f(D,2),C=f(u(k),2);Yt(C),c(k),c(M);var H=f(M,2);H.__click=m,c(q),c(V),ft(()=>{Nt(tt,1,`border px-4 py-2 ${d(S)==="SOL"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`),Nt(U,1,`border px-4 py-2 ${d(S)==="USDC"?"bg-primary text-black border-primary":"border-border text-muted-foreground"}`)}),qt(C,()=>d(g),Q=>T(g,Q)),h(B,V)};Z(L,B=>{d(l)&&B(A)})}var W=f(L,2);{var it=B=>{var V=sn();V.__click=()=>T(v,!1);var q=u(V);q.__click=et=>et.stopPropagation();var E=f(u(q),2),M=u(E),D=u(M),K=u(D),tt=u(K);c(K),bt(2),c(D),c(M),c(E);var U=f(E,2),k=u(U),C=u(k),H=u(C);c(C),bt(2),c(k);var Q=f(k,2),J=u(Q),ot=u(J);c(J),bt(2),c(Q),c(U),c(q),c(V),ft((et,ct,st,nt,O)=>{_r(E,`background: conic-gradient(#fed600 0% ${et??""}%, #333 ${ct??""}% 100%);`),R(tt,`${st??""}%`),R(H,`${nt??""} SOL`),R(ot,`${O??""} SOL`)},[x,x,()=>x().toFixed(1),()=>(d(e).stakeAmount/1e9).toFixed(2),()=>d(s).toFixed(2)]),h(B,V)};Z(W,B=>{d(v)&&B(it)})}c(N),h(r,N),Vt()}Zt(["click"]);var cn=I('<div class="flex flex-col items-center justify-center py-8"><!> <span class="text-sm text-muted-foreground">Resolving Peer...</span></div>'),un=I('<div class="bg-red-900/20 border border-red-500/50 p-3 rounded flex flex-col gap-2"><div class="flex items-center gap-2 text-red-500 text-xs font-bold"><!> INSUFFICIENT ESCROW</div> <p class="text-xs text-muted-foreground"> </p> <button class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 text-xs rounded"> </button></div>'),fn=I('<button class="w-full bg-primary hover:bg-white text-black font-bold py-3 transition-colors"> </button>'),vn=I('<div class="space-y-4"><div class="bg-muted/20 p-4 rounded-lg"><div class="flex justify-between text-sm mb-1"><span class="text-muted-foreground">Warden</span> <span class="font-mono text-white"> </span></div> <div class="flex justify-between text-sm"><span class="text-muted-foreground">Rate</span> <div class="text-right"><span class="text-primary font-bold block"> </span> <span class="text-xs text-muted-foreground"> </span></div></div></div> <div><label class="block text-xs font-mono text-muted-foreground mb-2">ESTIMATED DATA (MB)</label> <input type="number" class="w-full bg-black border border-border p-3 text-white focus:border-primary outline-none"/></div> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-muted-foreground">Estimated Cost</span> <div class="text-right"><span class="block"> </span> <span class="text-xs text-muted-foreground"> </span></div></div> <div class="flex justify-between items-center"><span class="text-muted-foreground">Escrow Balance</span> <div class="flex items-center gap-2"><span> </span> <button title="Refresh Balance" class="hover:text-primary"><!></button></div></div></div> <!></div>'),gn=I('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4"><div class="w-full max-w-md rounded-lg bg-card border border-border p-6 space-y-6"><div class="flex items-center justify-between border-b border-border pb-4"><h2 class="text-xl font-bold">Direct Connect</h2> <button class="text-muted-foreground hover:text-white"><!></button></div> <!></div></div>');function pn(r,t){zt(t,!1);const a=j(),o=j(),e=j(),n=j();let s=Ce(t,"multiaddr",8),i=Ce(t,"onclose",8),l=j(!0),v=j(!1),g=j(!1),S=j(null),y=j(0),b=j(0),m=j(0),p=j("100"),$;Me(()=>{N(),$=setInterval(x,2e3)}),vr(()=>{$&&clearInterval($)});async function x(){try{const E=await ae("seeker");T(y,E.lamports/1e9);const M=await Ee("seeker");M.seeker&&T(b,M.seeker.escrowBalance/1e9)}catch{}}async function N(){T(l,!0);try{try{const k=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd")).json();T(m,k.solana.usd)}catch{T(m,150)}const E=s().match(/\/p2p\/([a-zA-Z0-9]+)/);if(!E)throw new Error("Invalid multiaddress: Missing Peer ID");const M=E[1],D=await fetch(`/api/warden/lookup?peer_id=${M}`);if(!D.ok)throw new Error("Warden not found on-chain");T(S,await D.json());const K=await ae("seeker");T(y,K.lamports/1e9);const tt=await Ee("seeker");tt.seeker&&T(b,tt.seeker.escrowBalance/1e9)}catch(E){ht(E.message,"error")}finally{T(l,!1)}}async function w(){if(!d(n)){ht("Insufficient wallet balance","error");return}T(g,!0);try{const E=Math.ceil(d(e)*1e9)+1e5,M=await fetch("/api/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:E})});if(!M.ok)throw new Error(await M.text());ht("Deposit sent. Waiting for confirmation...","info"),await new Promise(D=>setTimeout(D,5e3)),await N(),ht("Deposit confirmed!","success")}catch(E){ht("Deposit failed: "+E.message,"error")}finally{T(g,!1)}}async function _(){T(v,!0);try{ht("Initializing Secure Link...","info");const E=await fetch("/api/node/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({multiaddr:s(),estimatedMb:parseInt(d(p))})});if(!E.ok)throw new Error(await E.text());ht("Connection Established!","success"),i()()}catch(E){ht("Connection Failed: "+E.message,"error")}finally{T(v,!1)}}Mt(()=>(d(S),d(p)),()=>{T(a,d(S)?(parseInt(d(p))||0)*(d(S).price||0)/1e9:0)}),Mt(()=>(d(a),d(m)),()=>{T(o,d(a)*d(m))}),Mt(()=>(d(a),d(b)),()=>{T(e,Math.max(0,d(a)-d(b)))}),Mt(()=>(d(y),d(e)),()=>{T(n,d(y)>=d(e))}),de(),Ht();var P=gn();P.__click=function(...E){var M;(M=i())==null||M.apply(this,E)};var L=u(P);L.__click=E=>E.stopPropagation();var A=u(L),W=f(u(A),2);W.__click=function(...E){var M;(M=i())==null||M.apply(this,E)};var it=u(W);pr(it,{class:"w-6 h-6"}),c(W),c(A);var B=f(A,2);{var V=E=>{var M=cn(),D=u(M);Or(D,{class:"w-8 h-8 animate-spin text-primary mb-2"}),bt(2),c(M),h(E,M)},q=E=>{var M=mt(),D=X(M);{var K=tt=>{var U=vn(),k=u(U),C=u(k),H=f(u(C),2),Q=u(H);c(H),c(C);var J=f(C,2),ot=f(u(J),2),et=u(ot),ct=u(et);c(et);var st=f(et,2),nt=u(st);c(st),c(ot),c(J),c(k);var O=f(k,2),ut=f(u(O),2);Yt(ut),c(O);var Y=f(O,2),F=u(Y),lt=f(u(F),2),G=u(lt),dt=u(G);c(G);var rt=f(G,2),vt=u(rt);c(rt),c(lt),c(F);var at=f(F,2),gt=f(u(at),2),_t=u(gt),wt=u(_t);c(_t);var pt=f(_t,2);pt.__click=N;var Et=u(pt);Ke(Et,{class:"w-3 h-3"}),c(pt),c(gt),c(at),c(Y);var Wt=f(Y,2);{var ge=yt=>{var Ct=un(),It=u(Ct),he=u(It);Ir(he,{class:"w-4 h-4"}),bt(),c(It);var Kt=f(It,2),me=u(Kt);c(Kt);var ee=f(Kt,2);ee.__click=w;var cr=u(ee,!0);c(ee),c(Ct),ft((ur,fr)=>{R(me,`You need ${ur??""} more SOL in escrow.`),ee.disabled=d(g),R(cr,fr)},[()=>(d(e),z(()=>d(e).toFixed(6))),()=>(d(g),d(e),z(()=>d(g)?"DEPOSITING...":`DEPOSIT ${(d(e)+1e-4).toFixed(4)} SOL`))]),h(yt,Ct)},pe=yt=>{var Ct=fn();Ct.__click=_;var It=u(Ct,!0);c(Ct),ft(()=>{Ct.disabled=d(v),R(It,d(v)?"CONNECTING...":"START CONNECTION")}),h(yt,Ct)};Z(Wt,yt=>{d(e)>0?yt(ge):yt(pe,!1)})}c(U),ft((yt,Ct,It,he,Kt,me)=>{R(Q,`${yt??""}...`),R(ct,`${Ct??""} SOL / MB`),R(nt,`≈ $${It??""}`),R(dt,`${he??""} SOL`),R(vt,`≈ $${Kt??""}`),Nt(_t,1,d(e)>0?"text-red-500":"text-green-500"),R(wt,`${me??""} SOL`)},[()=>(d(S),z(()=>d(S).peerId.slice(0,8))),()=>(d(S),z(()=>(d(S).price/1e9).toFixed(6))),()=>(d(S),d(m),z(()=>(d(S).price/1e9*d(m)).toFixed(6))),()=>(d(a),z(()=>d(a).toFixed(6))),()=>(d(o),z(()=>d(o).toFixed(2))),()=>(d(b),z(()=>d(b).toFixed(6)))]),qt(ut,()=>d(p),yt=>T(p,yt)),h(tt,U)};Z(D,tt=>{d(S)&&tt(K)},!0)}h(E,M)};Z(B,E=>{d(l)?E(V):E(q,!1)})}c(L),c(P),h(r,P),Vt()}Zt(["click"]);var hn=I('<div class="flex items-center gap-2 text-green-500 border border-green-500/30 bg-green-500/10 px-4 py-2 text-xs font-bold animate-pulse"><!> ENCRYPTED</div>'),mn=I('<div class="h-[200px] flex items-center justify-center"><!></div>'),bn=I('<div class="flex justify-between mb-6"><span class="text-xs font-mono text-muted-foreground">STATUS</span> <!></div> <div class="text-5xl font-bold text-white mb-2">CONNECTED</div> <p class="text-sm text-muted-foreground font-mono">Tunnel established via WireGuard.<br/> Traffic routed through Warden node.</p> <button class="mt-8 w-full border border-red-500/50 text-red-500 font-bold py-3 hover:bg-red-500/10 transition-colors">TERMINATE</button>',1),_n=I('<div class="flex justify-between mb-6"><span class="text-xs font-mono text-muted-foreground">METRICS</span> <!></div> <div class="space-y-4"><div><div class="flex justify-between text-xs mb-1"><span>BANDWIDTH</span> <span>12.4 MB</span></div> <div class="h-1 bg-secondary w-full"><div class="h-full bg-primary w-[12%]"></div></div></div> <div><div class="flex justify-between text-xs mb-1"><span>LATENCY</span> <span>45ms</span></div> <div class="h-1 bg-secondary w-full"><div class="h-full bg-green-500 w-[20%]"></div></div></div></div>',1),xn=I('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <!></div>'),wn=I('<div class="animate-pulse space-y-4"><div class="flex justify-between"><div class="h-4 w-16 bg-muted/20 rounded"></div> <div class="h-4 w-4 bg-muted/20 rounded-full"></div></div> <div class="h-6 w-3/4 bg-muted/20 rounded"></div> <div class="h-3 w-full bg-muted/20 rounded"></div> <div class="h-3 w-1/2 bg-muted/20 rounded"></div> <div class="pt-4 flex justify-between items-center"><div class="h-4 w-12 bg-muted/20 rounded"></div> <div class="h-8 w-20 bg-muted/20 rounded"></div></div></div>'),yn=I('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>'),Cn=I('<div class="h-48 flex flex-col items-center justify-center border border-dashed border-border opacity-50"><!> <span class="text-xs font-mono">NO PUBLIC NODES DETECTED</span></div>'),En=I('<div class="flex justify-between items-start mb-4"><div class="font-mono text-[10px] bg-primary/10 text-primary px-2 py-1 border border-primary/20"> </div> <!></div> <p class="font-bold truncate"> </p> <p class="text-[10px] font-mono text-muted-foreground break-all mb-4"> </p> <div class="flex justify-between items-center border-t border-border pt-4 mt-auto"><span class="text-xs text-primary font-bold"> </span> <button class="text-xs bg-white text-black px-3 py-1 font-bold hover:bg-primary transition-colors">CONNECT</button></div>',1),kn=I('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>'),Nn=I('<div class="border border-border bg-card/50 p-6 flex flex-col md:flex-row gap-4 items-end"><div class="flex-1 w-full"><label class="block text-[10px] font-mono text-muted-foreground mb-2 flex items-center gap-2"><!> MANUAL PEER CONNECT</label> <input type="text" placeholder="Warden Multiaddr..." class="w-full bg-black border border-border p-3 text-sm focus:border-primary outline-none text-white font-mono placeholder:text-muted-foreground/30"/></div> <button class="bg-white/10 text-white px-6 py-3 text-sm font-bold border border-white/20 hover:bg-white/20 transition-colors">DIRECT CONNECT</button></div> <!>',1),Sn=I('<div class="space-y-8"><div class="flex justify-between items-center"><div><h2 class="text-3xl font-bold uppercase tracking-tighter">Seeker Uplink</h2> <p class="text-sm text-muted-foreground">Secure tunnel management.</p></div> <!></div> <!> <!></div>');function Tn(r,t){zt(t,!1);let a=j([]),o=j(!0),e=j(!0),n=j(!1),s=null,i=j(""),l=j(!1);Me(()=>{g(),S()});async function v(){await Promise.all([g(),S()])}async function g(){try{const A=await Ee("seeker");A.connectedWardenPDA&&(T(n,!0),s=A)}catch(A){console.error(A)}finally{T(o,!1)}}async function S(){T(e,!0);try{T(a,await Cr())}catch(A){console.error(A)}finally{T(e,!1)}}function y(){if(!d(i)){ht("Please enter a multiaddress","error");return}T(l,!0)}async function b(){try{await Er("seeker",s.connectedWardenAuthority),T(n,!1),s=null,ht("Link Terminated","info"),await v()}catch{ht("Disconnect Failed","error")}}Ht();var m=Sn(),p=u(m),$=f(u(p),2);{var x=A=>{var W=hn(),it=u(W);Pr(it,{class:"w-3 h-3"}),bt(),c(W),h(A,W)};Z($,A=>{d(n)&&A(x)})}c(p);var N=f(p,2);{var w=A=>{var W=mn(),it=u(W);le(it),c(W),h(A,W)},_=A=>{var W=mt(),it=X(W);{var B=q=>{var E=xn(),M=u(E);$t(M,{children:(K,tt)=>{var U=bn(),k=X(U),C=f(u(k),2);Je(C,{class:"w-5 h-5 text-green-500"}),c(k);var H=f(k,6);H.__click=b,h(K,U)},$$slots:{default:!0}});var D=f(M,2);$t(D,{children:(K,tt)=>{var U=_n(),k=X(U),C=f(u(k),2);ke(C,{class:"w-5 h-5 text-primary"}),c(k),bt(2),h(K,U)},$$slots:{default:!0}}),c(E),h(q,E)},V=q=>{var E=Nn(),M=X(E),D=u(M),K=u(D),tt=u(K);Mr(tt,{class:"w-3 h-3"}),bt(),c(K);var U=f(K,2);Yt(U),c(D);var k=f(D,2);k.__click=y,c(M);var C=f(M,2);{var H=J=>{var ot=yn();Bt(ot,4,()=>({length:6}),Pt,(et,ct)=>{Gt(et,{children:(st,nt)=>{var O=wn();h(st,O)},$$slots:{default:!0}})}),c(ot),h(J,ot)},Q=J=>{var ot=mt(),et=X(ot);{var ct=nt=>{var O=Cn(),ut=u(O);$r(ut,{class:"w-8 h-8 mb-2"}),bt(2),c(O),h(nt,O)},st=nt=>{var O=kn();Bt(O,5,()=>d(a),Pt,(ut,Y)=>{Gt(ut,{children:(F,lt)=>{var G=En(),dt=X(G),rt=u(dt),vt=u(rt,!0);c(rt);var at=f(rt,2);Br(at,{class:"w-4 h-4 text-green-500"}),c(dt);var gt=f(dt,2),_t=u(gt,!0);c(gt);var wt=f(gt,2),pt=u(wt,!0);c(wt);var Et=f(wt,2),Wt=u(Et),ge=u(Wt);c(Wt);var pe=f(Wt,2);pe.__click=()=>kr("seeker",d(Y).authority,d(Y).id,100),c(Et),ft(yt=>{R(vt,d(Y).location),R(_t,d(Y).nickname),R(pt,d(Y).authority),R(ge,`$${yt??""}/GB`)},[()=>(d(Y).price||0).toFixed(4)]),h(F,G)},$$slots:{default:!0}})}),c(O),h(nt,O)};Z(et,nt=>{d(a).length===0?nt(ct):nt(st,!1)},!0)}h(J,ot)};Z(C,J=>{d(e)?J(H):J(Q,!1)})}qt(U,()=>d(i),J=>T(i,J)),h(q,E)};Z(it,q=>{d(n)?q(B):q(V,!1)},!0)}h(A,W)};Z(N,A=>{d(o)?A(w):A(_,!1)})}var P=f(N,2);{var L=A=>{pn(A,{get multiaddr(){return d(i)},onclose:()=>{T(l,!1),v()}})};Z(P,A=>{d(l)&&A(L)})}c(m),h(r,m),Vt()}Zt(["click"]);var Xt={},An=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ye={},xt={};let $e;const In=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];xt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};xt.getSymbolTotalCodewords=function(t){return In[t]};xt.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};xt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');$e=t};xt.isKanjiModeEnabled=function(){return typeof $e<"u"};xt.toSJIS=function(t){return $e(t)};var ce={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+a)}}r.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},r.from=function(o,e){if(r.isValid(o))return o;try{return t(o)}catch{return e}}})(ce);function Ge(){this.buffer=[],this.length=0}Ge.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let a=0;a<t;a++)this.putBit((r>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Mn=Ge;function te(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}te.prototype.set=function(r,t,a,o){const e=r*this.size+t;this.data[e]=a,o&&(this.reservedBit[e]=!0)};te.prototype.get=function(r,t){return this.data[r*this.size+t]};te.prototype.xor=function(r,t,a){this.data[r*this.size+t]^=a};te.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Bn=te,qe={};(function(r){const t=xt.getSymbolSize;r.getRowColCoords=function(o){if(o===1)return[];const e=Math.floor(o/7)+2,n=t(o),s=n===145?26:Math.ceil((n-13)/(2*e-2))*2,i=[n-7];for(let l=1;l<e-1;l++)i[l]=i[l-1]-s;return i.push(6),i.reverse()},r.getPositions=function(o){const e=[],n=r.getRowColCoords(o),s=n.length;for(let i=0;i<s;i++)for(let l=0;l<s;l++)i===0&&l===0||i===0&&l===s-1||i===s-1&&l===0||e.push([n[i],n[l]]);return e}})(qe);var Qe={};const Pn=xt.getSymbolSize,Oe=7;Qe.getPositions=function(t){const a=Pn(t);return[[0,0],[a-Oe,0],[0,a-Oe]]};var Ze={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const n=e.size;let s=0,i=0,l=0,v=null,g=null;for(let S=0;S<n;S++){i=l=0,v=g=null;for(let y=0;y<n;y++){let b=e.get(S,y);b===v?i++:(i>=5&&(s+=t.N1+(i-5)),v=b,i=1),b=e.get(y,S),b===g?l++:(l>=5&&(s+=t.N1+(l-5)),g=b,l=1)}i>=5&&(s+=t.N1+(i-5)),l>=5&&(s+=t.N1+(l-5))}return s},r.getPenaltyN2=function(e){const n=e.size;let s=0;for(let i=0;i<n-1;i++)for(let l=0;l<n-1;l++){const v=e.get(i,l)+e.get(i,l+1)+e.get(i+1,l)+e.get(i+1,l+1);(v===4||v===0)&&s++}return s*t.N2},r.getPenaltyN3=function(e){const n=e.size;let s=0,i=0,l=0;for(let v=0;v<n;v++){i=l=0;for(let g=0;g<n;g++)i=i<<1&2047|e.get(v,g),g>=10&&(i===1488||i===93)&&s++,l=l<<1&2047|e.get(g,v),g>=10&&(l===1488||l===93)&&s++}return s*t.N3},r.getPenaltyN4=function(e){let n=0;const s=e.data.length;for(let l=0;l<s;l++)n+=e.data[l];return Math.abs(Math.ceil(n*100/s/5)-10)*t.N4};function a(o,e,n){switch(o){case r.Patterns.PATTERN000:return(e+n)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return n%3===0;case r.Patterns.PATTERN011:return(e+n)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case r.Patterns.PATTERN101:return e*n%2+e*n%3===0;case r.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case r.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}r.applyMask=function(e,n){const s=n.size;for(let i=0;i<s;i++)for(let l=0;l<s;l++)n.isReserved(l,i)||n.xor(l,i,a(e,l,i))},r.getBestMask=function(e,n){const s=Object.keys(r.Patterns).length;let i=0,l=1/0;for(let v=0;v<s;v++){n(v),r.applyMask(v,e);const g=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(v,e),g<l&&(l=g,i=v)}return i}})(Ze);var ue={};const St=ce,re=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ne=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ue.getBlocksCount=function(t,a){switch(a){case St.L:return re[(t-1)*4+0];case St.M:return re[(t-1)*4+1];case St.Q:return re[(t-1)*4+2];case St.H:return re[(t-1)*4+3];default:return}};ue.getTotalCodewordsCount=function(t,a){switch(a){case St.L:return ne[(t-1)*4+0];case St.M:return ne[(t-1)*4+1];case St.Q:return ne[(t-1)*4+2];case St.H:return ne[(t-1)*4+3];default:return}};var Xe={},fe={};const Jt=new Uint8Array(512),se=new Uint8Array(256);(function(){let t=1;for(let a=0;a<255;a++)Jt[a]=t,se[t]=a,t<<=1,t&256&&(t^=285);for(let a=255;a<512;a++)Jt[a]=Jt[a-255]})();fe.log=function(t){if(t<1)throw new Error("log("+t+")");return se[t]};fe.exp=function(t){return Jt[t]};fe.mul=function(t,a){return t===0||a===0?0:Jt[se[t]+se[a]]};(function(r){const t=fe;r.mul=function(o,e){const n=new Uint8Array(o.length+e.length-1);for(let s=0;s<o.length;s++)for(let i=0;i<e.length;i++)n[s+i]^=t.mul(o[s],e[i]);return n},r.mod=function(o,e){let n=new Uint8Array(o);for(;n.length-e.length>=0;){const s=n[0];for(let l=0;l<e.length;l++)n[l]^=t.mul(e[l],s);let i=0;for(;i<n.length&&n[i]===0;)i++;n=n.slice(i)}return n},r.generateECPolynomial=function(o){let e=new Uint8Array([1]);for(let n=0;n<o;n++)e=r.mul(e,new Uint8Array([1,t.exp(n)]));return e}})(Xe);const tr=Xe;function Re(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Re.prototype.initialize=function(t){this.degree=t,this.genPoly=tr.generateECPolynomial(this.degree)};Re.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(t.length+this.degree);a.set(t);const o=tr.mod(a,this.genPoly),e=this.degree-o.length;if(e>0){const n=new Uint8Array(this.degree);return n.set(o,e),n}return o};var $n=Re,er={},At={},Le={};Le.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var kt={};const rr="[0-9]+",Rn="[A-Z $%*+\\-./:]+";let Qt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Qt=Qt.replace(/u/g,"\\u");const Ln="(?:(?![A-Z0-9 $%*+\\-./:]|"+Qt+`)(?:.|[\r
]))+`;kt.KANJI=new RegExp(Qt,"g");kt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");kt.BYTE=new RegExp(Ln,"g");kt.NUMERIC=new RegExp(rr,"g");kt.ALPHANUMERIC=new RegExp(Rn,"g");const Dn=new RegExp("^"+Qt+"$"),Fn=new RegExp("^"+rr+"$"),Un=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");kt.testKanji=function(t){return Dn.test(t)};kt.testNumeric=function(t){return Fn.test(t)};kt.testAlphanumeric=function(t){return Un.test(t)};(function(r){const t=Le,a=kt;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(n,s){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?n.ccBits[0]:s<27?n.ccBits[1]:n.ccBits[2]},r.getBestModeForData=function(n){return a.testNumeric(n)?r.NUMERIC:a.testAlphanumeric(n)?r.ALPHANUMERIC:a.testKanji(n)?r.KANJI:r.BYTE},r.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},r.isValid=function(n){return n&&n.bit&&n.ccBits};function o(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(n,s){if(r.isValid(n))return n;try{return o(n)}catch{return s}}})(At);(function(r){const t=xt,a=ue,o=ce,e=At,n=Le,s=7973,i=t.getBCHDigit(s);function l(y,b,m){for(let p=1;p<=40;p++)if(b<=r.getCapacity(p,m,y))return p}function v(y,b){return e.getCharCountIndicator(y,b)+4}function g(y,b){let m=0;return y.forEach(function(p){const $=v(p.mode,b);m+=$+p.getBitsLength()}),m}function S(y,b){for(let m=1;m<=40;m++)if(g(y,m)<=r.getCapacity(m,b,e.MIXED))return m}r.from=function(b,m){return n.isValid(b)?parseInt(b,10):m},r.getCapacity=function(b,m,p){if(!n.isValid(b))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=e.BYTE);const $=t.getSymbolTotalCodewords(b),x=a.getTotalCodewordsCount(b,m),N=($-x)*8;if(p===e.MIXED)return N;const w=N-v(p,b);switch(p){case e.NUMERIC:return Math.floor(w/10*3);case e.ALPHANUMERIC:return Math.floor(w/11*2);case e.KANJI:return Math.floor(w/13);case e.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(b,m){let p;const $=o.from(m,o.M);if(Array.isArray(b)){if(b.length>1)return S(b,$);if(b.length===0)return 1;p=b[0]}else p=b;return l(p.mode,p.getLength(),$)},r.getEncodedBits=function(b){if(!n.isValid(b)||b<7)throw new Error("Invalid QR Code version");let m=b<<12;for(;t.getBCHDigit(m)-i>=0;)m^=s<<t.getBCHDigit(m)-i;return b<<12|m}})(er);var nr={};const Se=xt,or=1335,On=21522,je=Se.getBCHDigit(or);nr.getEncodedBits=function(t,a){const o=t.bit<<3|a;let e=o<<10;for(;Se.getBCHDigit(e)-je>=0;)e^=or<<Se.getBCHDigit(e)-je;return(o<<10|e)^On};var ar={};const jn=At;function Ft(r){this.mode=jn.NUMERIC,this.data=r.toString()}Ft.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ft.prototype.getLength=function(){return this.data.length};Ft.prototype.getBitsLength=function(){return Ft.getBitsLength(this.data.length)};Ft.prototype.write=function(t){let a,o,e;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),e=parseInt(o,10),t.put(e,10);const n=this.data.length-a;n>0&&(o=this.data.substr(a),e=parseInt(o,10),t.put(e,n*3+1))};var Hn=Ft;const zn=At,be=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ut(r){this.mode=zn.ALPHANUMERIC,this.data=r}Ut.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ut.prototype.getLength=function(){return this.data.length};Ut.prototype.getBitsLength=function(){return Ut.getBitsLength(this.data.length)};Ut.prototype.write=function(t){let a;for(a=0;a+2<=this.data.length;a+=2){let o=be.indexOf(this.data[a])*45;o+=be.indexOf(this.data[a+1]),t.put(o,11)}this.data.length%2&&t.put(be.indexOf(this.data[a]),6)};var Vn=Ut;const Wn=At;function Ot(r){this.mode=Wn.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Ot.getBitsLength=function(t){return t*8};Ot.prototype.getLength=function(){return this.data.length};Ot.prototype.getBitsLength=function(){return Ot.getBitsLength(this.data.length)};Ot.prototype.write=function(r){for(let t=0,a=this.data.length;t<a;t++)r.put(this.data[t],8)};var Kn=Ot;const Jn=At,Yn=xt;function jt(r){this.mode=Jn.KANJI,this.data=r}jt.getBitsLength=function(t){return t*13};jt.prototype.getLength=function(){return this.data.length};jt.prototype.getBitsLength=function(){return jt.getBitsLength(this.data.length)};jt.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let a=Yn.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}};var Gn=jt,sr={exports:{}};(function(r){var t={single_source_shortest_paths:function(a,o,e){var n={},s={};s[o]=0;var i=t.PriorityQueue.make();i.push(o,0);for(var l,v,g,S,y,b,m,p,$;!i.empty();){l=i.pop(),v=l.value,S=l.cost,y=a[v]||{};for(g in y)y.hasOwnProperty(g)&&(b=y[g],m=S+b,p=s[g],$=typeof s[g]>"u",($||p>m)&&(s[g]=m,i.push(g,m),n[g]=v))}if(typeof e<"u"&&typeof s[e]>"u"){var x=["Could not find a path from ",o," to ",e,"."].join("");throw new Error(x)}return n},extract_shortest_path_from_predecessor_list:function(a,o){for(var e=[],n=o;n;)e.push(n),a[n],n=a[n];return e.reverse(),e},find_path:function(a,o,e){var n=t.single_source_shortest_paths(a,o,e);return t.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(a){var o=t.PriorityQueue,e={},n;a=a||{};for(n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return e.queue=[],e.sorter=a.sorter||o.default_sorter,e},default_sorter:function(a,o){return a.cost-o.cost},push:function(a,o){var e={value:a,cost:o};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(sr);var qn=sr.exports;(function(r){const t=At,a=Hn,o=Vn,e=Kn,n=Gn,s=kt,i=xt,l=qn;function v(x){return unescape(encodeURIComponent(x)).length}function g(x,N,w){const _=[];let P;for(;(P=x.exec(w))!==null;)_.push({data:P[0],index:P.index,mode:N,length:P[0].length});return _}function S(x){const N=g(s.NUMERIC,t.NUMERIC,x),w=g(s.ALPHANUMERIC,t.ALPHANUMERIC,x);let _,P;return i.isKanjiModeEnabled()?(_=g(s.BYTE,t.BYTE,x),P=g(s.KANJI,t.KANJI,x)):(_=g(s.BYTE_KANJI,t.BYTE,x),P=[]),N.concat(w,_,P).sort(function(A,W){return A.index-W.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function y(x,N){switch(N){case t.NUMERIC:return a.getBitsLength(x);case t.ALPHANUMERIC:return o.getBitsLength(x);case t.KANJI:return n.getBitsLength(x);case t.BYTE:return e.getBitsLength(x)}}function b(x){return x.reduce(function(N,w){const _=N.length-1>=0?N[N.length-1]:null;return _&&_.mode===w.mode?(N[N.length-1].data+=w.data,N):(N.push(w),N)},[])}function m(x){const N=[];for(let w=0;w<x.length;w++){const _=x[w];switch(_.mode){case t.NUMERIC:N.push([_,{data:_.data,mode:t.ALPHANUMERIC,length:_.length},{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.ALPHANUMERIC:N.push([_,{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.KANJI:N.push([_,{data:_.data,mode:t.BYTE,length:v(_.data)}]);break;case t.BYTE:N.push([{data:_.data,mode:t.BYTE,length:v(_.data)}])}}return N}function p(x,N){const w={},_={start:{}};let P=["start"];for(let L=0;L<x.length;L++){const A=x[L],W=[];for(let it=0;it<A.length;it++){const B=A[it],V=""+L+it;W.push(V),w[V]={node:B,lastCount:0},_[V]={};for(let q=0;q<P.length;q++){const E=P[q];w[E]&&w[E].node.mode===B.mode?(_[E][V]=y(w[E].lastCount+B.length,B.mode)-y(w[E].lastCount,B.mode),w[E].lastCount+=B.length):(w[E]&&(w[E].lastCount=B.length),_[E][V]=y(B.length,B.mode)+4+t.getCharCountIndicator(B.mode,N))}}P=W}for(let L=0;L<P.length;L++)_[P[L]].end=0;return{map:_,table:w}}function $(x,N){let w;const _=t.getBestModeForData(x);if(w=t.from(N,_),w!==t.BYTE&&w.bit<_.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(_));switch(w===t.KANJI&&!i.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new a(x);case t.ALPHANUMERIC:return new o(x);case t.KANJI:return new n(x);case t.BYTE:return new e(x)}}r.fromArray=function(N){return N.reduce(function(w,_){return typeof _=="string"?w.push($(_,null)):_.data&&w.push($(_.data,_.mode)),w},[])},r.fromString=function(N,w){const _=S(N,i.isKanjiModeEnabled()),P=m(_),L=p(P,w),A=l.find_path(L.map,"start","end"),W=[];for(let it=1;it<A.length-1;it++)W.push(L.table[A[it]].node);return r.fromArray(b(W))},r.rawSplit=function(N){return r.fromArray(S(N,i.isKanjiModeEnabled()))}})(ar);const ve=xt,_e=ce,Qn=Mn,Zn=Bn,Xn=qe,to=Qe,Te=Ze,Ae=ue,eo=$n,ie=er,ro=nr,no=At,xe=ar;function oo(r,t){const a=r.size,o=to.getPositions(t);for(let e=0;e<o.length;e++){const n=o[e][0],s=o[e][1];for(let i=-1;i<=7;i++)if(!(n+i<=-1||a<=n+i))for(let l=-1;l<=7;l++)s+l<=-1||a<=s+l||(i>=0&&i<=6&&(l===0||l===6)||l>=0&&l<=6&&(i===0||i===6)||i>=2&&i<=4&&l>=2&&l<=4?r.set(n+i,s+l,!0,!0):r.set(n+i,s+l,!1,!0))}}function ao(r){const t=r.size;for(let a=8;a<t-8;a++){const o=a%2===0;r.set(a,6,o,!0),r.set(6,a,o,!0)}}function so(r,t){const a=Xn.getPositions(t);for(let o=0;o<a.length;o++){const e=a[o][0],n=a[o][1];for(let s=-2;s<=2;s++)for(let i=-2;i<=2;i++)s===-2||s===2||i===-2||i===2||s===0&&i===0?r.set(e+s,n+i,!0,!0):r.set(e+s,n+i,!1,!0)}}function io(r,t){const a=r.size,o=ie.getEncodedBits(t);let e,n,s;for(let i=0;i<18;i++)e=Math.floor(i/3),n=i%3+a-8-3,s=(o>>i&1)===1,r.set(e,n,s,!0),r.set(n,e,s,!0)}function we(r,t,a){const o=r.size,e=ro.getEncodedBits(t,a);let n,s;for(n=0;n<15;n++)s=(e>>n&1)===1,n<6?r.set(n,8,s,!0):n<8?r.set(n+1,8,s,!0):r.set(o-15+n,8,s,!0),n<8?r.set(8,o-n-1,s,!0):n<9?r.set(8,15-n-1+1,s,!0):r.set(8,15-n-1,s,!0);r.set(o-8,8,1,!0)}function lo(r,t){const a=r.size;let o=-1,e=a-1,n=7,s=0;for(let i=a-1;i>0;i-=2)for(i===6&&i--;;){for(let l=0;l<2;l++)if(!r.isReserved(e,i-l)){let v=!1;s<t.length&&(v=(t[s]>>>n&1)===1),r.set(e,i-l,v),n--,n===-1&&(s++,n=7)}if(e+=o,e<0||a<=e){e-=o,o=-o;break}}}function co(r,t,a){const o=new Qn;a.forEach(function(l){o.put(l.mode.bit,4),o.put(l.getLength(),no.getCharCountIndicator(l.mode,r)),l.write(o)});const e=ve.getSymbolTotalCodewords(r),n=Ae.getTotalCodewordsCount(r,t),s=(e-n)*8;for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const i=(s-o.getLengthInBits())/8;for(let l=0;l<i;l++)o.put(l%2?17:236,8);return uo(o,r,t)}function uo(r,t,a){const o=ve.getSymbolTotalCodewords(t),e=Ae.getTotalCodewordsCount(t,a),n=o-e,s=Ae.getBlocksCount(t,a),i=o%s,l=s-i,v=Math.floor(o/s),g=Math.floor(n/s),S=g+1,y=v-g,b=new eo(y);let m=0;const p=new Array(s),$=new Array(s);let x=0;const N=new Uint8Array(r.buffer);for(let A=0;A<s;A++){const W=A<l?g:S;p[A]=N.slice(m,m+W),$[A]=b.encode(p[A]),m+=W,x=Math.max(x,W)}const w=new Uint8Array(o);let _=0,P,L;for(P=0;P<x;P++)for(L=0;L<s;L++)P<p[L].length&&(w[_++]=p[L][P]);for(P=0;P<y;P++)for(L=0;L<s;L++)w[_++]=$[L][P];return w}function fo(r,t,a,o){let e;if(Array.isArray(r))e=xe.fromArray(r);else if(typeof r=="string"){let v=t;if(!v){const g=xe.rawSplit(r);v=ie.getBestVersionForData(g,a)}e=xe.fromString(r,v||40)}else throw new Error("Invalid data");const n=ie.getBestVersionForData(e,a);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=n;else if(t<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const s=co(t,a,e),i=ve.getSymbolSize(t),l=new Zn(i);return oo(l,t),ao(l),so(l,t),we(l,a,0),t>=7&&io(l,t),lo(l,s),isNaN(o)&&(o=Te.getBestMask(l,we.bind(null,l,a))),Te.applyMask(o,l),we(l,a,o),{modules:l,version:t,errorCorrectionLevel:a,maskPattern:o,segments:e}}Ye.create=function(t,a){if(typeof t>"u"||t==="")throw new Error("No input text");let o=_e.M,e,n;return typeof a<"u"&&(o=_e.from(a.errorCorrectionLevel,_e.M),e=ie.from(a.version),n=Te.from(a.maskPattern),a.toSJISFunc&&ve.setToSJISFunction(a.toSJISFunc)),fo(t,e,o,n)};var ir={},De={};(function(r){function t(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let o=a.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+a);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(n){return[n,n]}))),o.length===6&&o.push("F","F");const e=parseInt(o.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+o.slice(0,6).join("")}}r.getOptions=function(o){o||(o={}),o.color||(o.color={});const e=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,n=o.width&&o.width>=21?o.width:void 0,s=o.scale||4;return{width:n,scale:n?4:s,margin:e,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},r.getScale=function(o,e){return e.width&&e.width>=o+e.margin*2?e.width/(o+e.margin*2):e.scale},r.getImageWidth=function(o,e){const n=r.getScale(o,e);return Math.floor((o+e.margin*2)*n)},r.qrToImageData=function(o,e,n){const s=e.modules.size,i=e.modules.data,l=r.getScale(s,n),v=Math.floor((s+n.margin*2)*l),g=n.margin*l,S=[n.color.light,n.color.dark];for(let y=0;y<v;y++)for(let b=0;b<v;b++){let m=(y*v+b)*4,p=n.color.light;if(y>=g&&b>=g&&y<v-g&&b<v-g){const $=Math.floor((y-g)/l),x=Math.floor((b-g)/l);p=S[i[$*s+x]?1:0]}o[m++]=p.r,o[m++]=p.g,o[m++]=p.b,o[m]=p.a}}})(De);(function(r){const t=De;function a(e,n,s){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=s,n.width=s,n.style.height=s+"px",n.style.width=s+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(n,s,i){let l=i,v=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(v=o()),l=t.getOptions(l);const g=t.getImageWidth(n.modules.size,l),S=v.getContext("2d"),y=S.createImageData(g,g);return t.qrToImageData(y.data,n,l),a(S,v,g),S.putImageData(y,0,0),v},r.renderToDataURL=function(n,s,i){let l=i;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const v=r.render(n,s,l),g=l.type||"image/png",S=l.rendererOpts||{};return v.toDataURL(g,S.quality)}})(ir);var dr={};const vo=De;function He(r,t){const a=r.a/255,o=t+'="'+r.hex+'"';return a<1?o+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function ye(r,t,a){let o=r+t;return typeof a<"u"&&(o+=" "+a),o}function go(r,t,a){let o="",e=0,n=!1,s=0;for(let i=0;i<r.length;i++){const l=Math.floor(i%t),v=Math.floor(i/t);!l&&!n&&(n=!0),r[i]?(s++,i>0&&l>0&&r[i-1]||(o+=n?ye("M",l+a,.5+v+a):ye("m",e,0),e=0,n=!1),l+1<t&&r[i+1]||(o+=ye("h",s),s=0)):e++}return o}dr.render=function(t,a,o){const e=vo.getOptions(a),n=t.modules.size,s=t.modules.data,i=n+e.margin*2,l=e.color.light.a?"<path "+He(e.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",v="<path "+He(e.color.dark,"stroke")+' d="'+go(s,n,e.margin)+'"/>',g='viewBox="0 0 '+i+" "+i+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+g+' shape-rendering="crispEdges">'+l+v+`</svg>
`;return typeof o=="function"&&o(null,y),y};const po=An,Ie=Ye,lr=ir,ho=dr;function Fe(r,t,a,o,e){const n=[].slice.call(arguments,1),s=n.length,i=typeof n[s-1]=="function";if(!i&&!po())throw new Error("Callback required as last argument");if(i){if(s<2)throw new Error("Too few arguments provided");s===2?(e=a,a=t,t=o=void 0):s===3&&(t.getContext&&typeof e>"u"?(e=o,o=void 0):(e=o,o=a,a=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(a=t,t=o=void 0):s===2&&!t.getContext&&(o=a,a=t,t=void 0),new Promise(function(l,v){try{const g=Ie.create(a,o);l(r(g,t,o))}catch(g){v(g)}})}try{const l=Ie.create(a,o);e(null,r(l,t,o))}catch(l){e(l)}}Xt.create=Ie.create;Xt.toCanvas=Fe.bind(null,lr.render);Xt.toDataURL=Fe.bind(null,lr.renderToDataURL);Xt.toString=Fe.bind(null,function(r,t,a){return ho.render(r,a)});var mo=I('<div class="h-[60vh] flex items-center justify-center"><!></div>'),bo=I('<div class="bg-black border border-primary/20 p-2"><img alt="QR Code" class="w-32 h-32"/></div>'),_o=I('<div class="flex justify-between items-start mb-6"><span class="text-xs font-mono text-muted-foreground uppercase tracking-widest"> </span> <button><!></button></div> <div class="flex flex-col md:flex-row gap-8 items-center"><!> <div class="flex-1 w-full"><div class="text-5xl font-bold text-white mb-2"> <span class="text-2xl text-primary">SOL</span></div> <div class="flex flex-col gap-2 mt-4"><span class="text-[10px] font-mono text-muted-foreground uppercase">Public Key</span> <button class="flex items-center justify-between bg-card border border-border p-3 hover:border-primary/50 transition-colors group text-left w-full"><span class="text-xs font-mono text-muted-foreground truncate mr-2"> </span> <!></button></div></div></div>',1),xo=I('<div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!> <div class="bg-card border border-border p-8 flex flex-col relative overflow-hidden"><div class="absolute top-0 right-0 p-4 opacity-10"><!></div> <h3 class="text-xl font-bold mb-6 flex items-center gap-2 italic relative z-10"><!> DISPATCH FUNDS</h3> <div class="space-y-6 relative z-10"><div><label class="block text-[10px] font-mono text-muted-foreground mb-2 uppercase tracking-widest">Recipient</label> <input type="text" class="w-full bg-black border border-border p-4 text-sm focus:border-primary outline-none text-white font-mono placeholder:text-muted-foreground/30 transition-colors" placeholder="Solana Address..."/></div> <div><label class="block text-[10px] font-mono text-muted-foreground mb-2 uppercase tracking-widest">Amount</label> <div class="relative"><input type="number" class="w-full bg-black border border-border p-4 text-xl focus:border-primary outline-none text-white font-mono transition-colors" placeholder="0.00"/> <span class="absolute right-4 top-1/2 -translate-y-1/2 text-sm text-primary font-bold">SOL</span></div></div></div> <button class="w-full bg-primary text-black font-bold py-4 mt-8 hover:bg-white transition-all active:scale-[0.98] relative z-10 uppercase tracking-widest">Execute Transaction</button></div></div>');function wo(r,t){zt(t,!1);let a=Ce(t,"profile",8,"warden"),o=j(0),e=j("Loading..."),n=j(""),s=j(!0),i=j(""),l=j("");async function v(){T(s,!0);try{const p=await Sr();T(e,p[a()]||"Address not found"),d(e)&&d(e)!=="Address not found"&&T(n,await Xt.toDataURL(d(e),{color:{dark:"#fed600",light:"#00000000"},margin:1}));const $=await ae(a());T(o,$.lamports/1e9)}catch(p){console.error(p)}finally{T(s,!1)}}function g(){navigator.clipboard.writeText(d(e)),alert("Address copied!")}Mt(()=>gr(a()),()=>{a()&&v()}),de(),Ht();var S=mt(),y=X(S);{var b=p=>{var $=mo(),x=u($);le(x),c($),h(p,$)},m=p=>{var $=xo(),x=u($);$t(x,{children:(E,M)=>{var D=_o(),K=X(D),tt=u(K),U=u(tt);c(tt);var k=f(tt,2);k.__click=v;var C=u(k);{let F=ze(()=>d(s)?"animate-spin":"");Ke(C,{get class(){return`w-4 h-4 text-muted-foreground hover:text-white ${d(F)??""}`}})}c(k),c(K);var H=f(K,2),Q=u(H);{var J=F=>{var lt=bo(),G=u(lt);c(lt),ft(()=>Nr(G,"src",d(n))),h(F,lt)};Z(Q,F=>{d(n)&&F(J)})}var ot=f(Q,2),et=u(ot),ct=u(et);bt(),c(et);var st=f(et,2),nt=f(u(st),2);nt.__click=g;var O=u(nt),ut=u(O,!0);c(O);var Y=f(O,2);Ne(Y,{class:"w-3 h-3 text-muted-foreground group-hover:text-primary"}),c(nt),c(st),c(ot),c(H),ft(F=>{R(U,`${a()??""} WALLET`),k.disabled=d(s),R(ct,`${F??""} `),R(ut,d(e))},[()=>(d(o),z(()=>d(o).toFixed(4)))]),h(E,D)},$$slots:{default:!0}});var N=f(x,2),w=u(N),_=u(w);Tr(_,{class:"w-32 h-32"}),c(w);var P=f(w,2),L=u(P);We(L,{class:"w-5 h-5 text-primary"}),bt(),c(P);var A=f(P,2),W=u(A),it=f(u(W),2);Yt(it),c(W);var B=f(W,2),V=f(u(B),2),q=u(V);Yt(q),bt(2),c(V),c(B),c(A),bt(2),c(N),c($),qt(it,()=>d(i),E=>T(i,E)),qt(q,()=>d(l),E=>T(l,E)),h(p,$)};Z(y,p=>{d(s)?p(b):p(m,!1)})}h(r,S),Vt()}Zt(["click"]);var yo=I('<div class="h-[60vh] bg-black border border-border p-4 font-mono text-xs overflow-y-auto text-muted-foreground"><div class="text-primary mb-2">root@zarkham-node:~# tail -f /var/log/syslog</div> <div class="space-y-1"><p>[INFO] System initialized. Version 1.0.0</p> <p>[INFO] P2P Host started. Listening on 0.0.0.0:0</p> <p>[INFO] Loading wallet profile...</p> <p>[WARN] DHT bootstrap pending...</p> <p class="text-green-500">[SUCCESS] Network uplink established.</p> <p class="animate-pulse">_</p></div></div>');function Co(r){var t=yo();h(r,t)}var Eo=I('<div class="flex items-center justify-center h-64"><!></div>'),ko=I('<div class="bg-card border border-border p-4 flex items-center justify-between hover:border-primary/30 transition-colors group"><div class="flex items-center gap-4"><div class="p-2 bg-secondary rounded-none"><!></div> <div><div class="font-bold text-sm"> </div> <div class="text-[10px] font-mono text-muted-foreground flex items-center gap-1"><!> </div></div></div> <div class="text-right"><div class="font-mono font-bold"> </div> <div class="text-[10px] text-muted-foreground truncate w-24"> </div></div></div>'),No=I('<div class="text-center text-muted-foreground py-12 text-sm">No transaction history found.</div>'),So=I('<div class="space-y-2"><!> <!></div>'),To=I('<div class="bg-card border border-border p-4 flex items-center justify-between hover:border-primary/30 transition-colors"><div><div class="font-bold text-sm"> </div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div> <div class="text-right font-mono text-primary"> </div></div>'),Ao=I('<div class="text-center text-muted-foreground py-12 text-sm">No token history found.</div>'),Io=I('<div class="space-y-2"><!> <!></div>'),Mo=I('<div class="bg-card border border-border p-4 flex items-center justify-between"><div><div class="font-bold text-sm">Session Ended</div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div> <div class="text-right text-xs"><span class="block text-primary"> </span> <span class="text-muted-foreground"> </span></div></div>'),Bo=I('<div class="text-center text-muted-foreground py-12 text-sm">No connection history found.</div>'),Po=I('<div class="space-y-2"><!> <!></div>'),$o=I('<div class="bg-card border border-border p-4 flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><div class="font-bold text-sm">Proof Submitted</div> <div class="text-[10px] font-mono text-muted-foreground"> </div></div></div> <div class="font-mono text-primary text-sm"> </div></div>'),Ro=I('<div class="text-center text-muted-foreground py-12 text-sm">No proofs submitted.</div>'),Lo=I('<div class="space-y-2"><!> <!></div>'),Do=I("<!> <!> <!> <!>",1),Fo=I('<div class="space-y-6"><div class="flex gap-4 border-b border-border pb-1"><button>SOLANA</button> <button>ARKHAM</button> <button>CONNECTIONS</button> <button>THROUGHPUT</button></div> <div class="min-h-[400px]"><!></div></div>');function Uo(r,t){zt(t,!1);const a=()=>oe(Pe,"$activeMode",o),[o,e]=Be();let n=j({solHistory:[],arkhamHistory:[],connectionHistory:[],throughputHistory:[]}),s=j(!0),i=j("sol");async function l(){T(s,!0),T(n,await Ve(a())),T(s,!1)}function v(_){return new Date(_).toLocaleString()}Mt(()=>a(),()=>{a()&&l()}),de(),Ht();var g=Fo(),S=u(g),y=u(S);y.__click=()=>T(i,"sol");var b=f(y,2);b.__click=()=>T(i,"arkham");var m=f(b,2);m.__click=()=>T(i,"connections");var p=f(m,2);p.__click=()=>T(i,"throughput"),c(S);var $=f(S,2),x=u($);{var N=_=>{var P=Eo(),L=u(P);le(L),c(P),h(_,P)},w=_=>{var P=Do(),L=X(P);{var A=M=>{var D=So(),K=u(D);Bt(K,1,()=>(d(n),z(()=>d(n).solHistory)),Pt,(k,C)=>{var H=ko(),Q=u(H),J=u(Q),ot=u(J);{var et=at=>{Lr(at,{class:"w-4 h-4 text-red-500"})},ct=at=>{Rr(at,{class:"w-4 h-4 text-green-500"})};Z(ot,at=>{d(C),z(()=>d(C).type.includes("Sent"))?at(et):at(ct,!1)})}c(J);var st=f(J,2),nt=u(st),O=u(nt,!0);c(nt);var ut=f(nt,2),Y=u(ut);Fr(Y,{class:"w-3 h-3"});var F=f(Y);c(ut),c(st),c(Q);var lt=f(Q,2),G=u(lt),dt=u(G);c(G);var rt=f(G,2),vt=u(rt,!0);c(rt),c(lt),c(H),ft((at,gt)=>{R(O,(d(C),z(()=>d(C).type))),R(F,` ${at??""}`),R(dt,`${gt??""} SOL`),R(vt,(d(C),z(()=>d(C).signature)))},[()=>(d(C),z(()=>v(d(C).timestamp))),()=>(d(C),z(()=>(d(C).amount/1e9).toFixed(4)))]),h(k,H)});var tt=f(K,2);{var U=k=>{var C=No();h(k,C)};Z(tt,k=>{d(n),z(()=>d(n).solHistory.length===0)&&k(U)})}c(D),h(M,D)};Z(L,M=>{d(i),d(n),z(()=>d(i)==="sol"&&d(n).solHistory)&&M(A)})}var W=f(L,2);{var it=M=>{var D=Io(),K=u(D);Bt(K,1,()=>(d(n),z(()=>d(n).arkhamHistory)),Pt,(k,C)=>{var H=To(),Q=u(H),J=u(Q),ot=u(J,!0);c(J);var et=f(J,2),ct=u(et,!0);c(et),c(Q);var st=f(Q,2),nt=u(st);c(st),c(H),ft((O,ut)=>{R(ot,(d(C),z(()=>d(C).type))),R(ct,O),R(nt,`${ut??""} ARKHAM`)},[()=>(d(C),z(()=>v(d(C).timestamp))),()=>(d(C),z(()=>(d(C).amount/1e9).toFixed(4)))]),h(k,H)});var tt=f(K,2);{var U=k=>{var C=Ao();h(k,C)};Z(tt,k=>{d(n),z(()=>d(n).arkhamHistory.length===0)&&k(U)})}c(D),h(M,D)};Z(W,M=>{d(i),d(n),z(()=>d(i)==="arkham"&&d(n).arkhamHistory)&&M(it)})}var B=f(W,2);{var V=M=>{var D=Po(),K=u(D);Bt(K,1,()=>(d(n),z(()=>d(n).connectionHistory)),Pt,(k,C)=>{var H=Mo(),Q=u(H),J=f(u(Q),2),ot=u(J,!0);c(J),c(Q);var et=f(Q,2),ct=u(et),st=u(ct);c(ct);var nt=f(ct,2),O=u(nt);c(nt),c(et),c(H),ft((ut,Y,F)=>{R(ot,ut),R(st,`${Y??""} MB`),R(O,`EARNED: ${F??""} SOL`)},[()=>(d(C),z(()=>v(d(C).timestamp))),()=>(d(C),z(()=>(d(C).bandwidth/1024/1024).toFixed(2))),()=>(d(C),z(()=>(d(C).earnings/1e9).toFixed(4)))]),h(k,H)});var tt=f(K,2);{var U=k=>{var C=Bo();h(k,C)};Z(tt,k=>{d(n),z(()=>d(n).connectionHistory.length===0)&&k(U)})}c(D),h(M,D)};Z(B,M=>{d(i),d(n),z(()=>d(i)==="connections"&&d(n).connectionHistory)&&M(V)})}var q=f(B,2);{var E=M=>{var D=Lo(),K=u(D);Bt(K,1,()=>(d(n),z(()=>d(n).throughputHistory)),Pt,(k,C)=>{var H=$o(),Q=u(H),J=u(Q);Ur(J,{class:"w-4 h-4 text-muted-foreground"});var ot=f(J,2),et=f(u(ot),2),ct=u(et,!0);c(et),c(ot),c(Q);var st=f(Q,2),nt=u(st);c(st),c(H),ft(O=>{R(ct,O),R(nt,`${d(C),z(()=>d(C).mbConsumed)??""} MB`)},[()=>(d(C),z(()=>v(d(C).timestamp)))]),h(k,H)});var tt=f(K,2);{var U=k=>{var C=Ro();h(k,C)};Z(tt,k=>{d(n),z(()=>d(n).throughputHistory.length===0)&&k(U)})}c(D),h(M,D)};Z(q,M=>{d(i),d(n),z(()=>d(i)==="throughput"&&d(n).throughputHistory)&&M(E)})}h(_,P)};Z(x,_=>{d(s)?_(N):_(w,!1)})}c($),c(g),ft(()=>{Nt(y,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${d(i)==="sol"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Nt(b,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${d(i)==="arkham"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Nt(m,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${d(i)==="connections"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`),Nt(p,1,`px-4 py-2 text-xs font-bold font-mono tracking-widest hover:text-primary transition-colors ${d(i)==="throughput"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`)}),h(r,g),Vt(),e()}Zt(["click"]);function Xo(r){const t=()=>oe(hr,"$activeTab",o),a=()=>oe(Pe,"$activeMode",o),[o,e]=Be();var n=mt(),s=X(n);{var i=v=>{var g=mt(),S=X(g);{var y=m=>{ln(m,{})},b=m=>{Tn(m,{})};Z(S,m=>{a()==="warden"?m(y):m(b,!1)})}h(v,g)},l=v=>{var g=mt(),S=X(g);{var y=m=>{wo(m,{get profile(){return a()}})},b=m=>{var p=mt(),$=X(p);{var x=w=>{Uo(w,{})},N=w=>{var _=mt(),P=X(_);{var L=A=>{Co(A)};Z(P,A=>{t()==="console"&&A(L)},!0)}h(w,_)};Z($,w=>{t()==="history"?w(x):w(N,!1)},!0)}h(m,p)};Z(S,m=>{t()==="wallet"?m(y):m(b,!1)},!0)}h(v,g)};Z(s,v=>{t()==="overview"?v(i):v(l,!1)})}h(r,n),e()}export{Xo as component};
